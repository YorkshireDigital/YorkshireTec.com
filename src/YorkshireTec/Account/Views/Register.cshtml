@{
    Layout = "Shared/_Layout.cshtml";
}
@using YorkshireTec.Infrastructure
@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<BaseViewModel<YorkshireTec.Account.ViewModels.AccountRegisterViewModel>>
@section Scripts
{
    <script type="text/javascript">
        $('.ui.form')
            .form({
                username: {
                    identifier: 'username',
                    rules: [
                        {
                            type: 'empty',
                            prompt: 'Please enter your username'
                        }
                    ]
                },
                password: {
                    identifier: 'password',
                    rules: [
                        {
                            type: 'empty',
                            prompt: 'Please enter your password'
                        },
                        {
                            type: 'length[6]',
                            prompt: 'Your password must be at least 6 characters'
                        }
                    ]
                },
                confirmPassword: {
                    identifier: 'confirmPassword',
                    rules: [
                        {
                            type: 'empty',
                            prompt: 'Please enter your password'
                        },
                        {
                            type: 'match[password]',
                            prompt: 'Passwords do not match'
                        }
                    ]
                },
                firstName: {
                    identifier: 'firstName',
                    rules: [
                        {
                            type: 'empty',
                            prompt: 'Please enter your first name'
                        }
                    ]
                },
                lastName: {
                    identifier: 'lastName',
                    rules: [
                        {
                            type: 'empty',
                            prompt: 'Please enter your last name'
                        }
                    ]
                },
                email: {
                    identifier: 'email',
                    rules: [
                        {
                            type: 'empty',
                            prompt: 'Please enter your last name'
                        },
                        {
                            type: 'email',
                            prompt: 'Not a valid email'
                        }
                    ]
                }
            });
    </script>
}
<section class="opaque blurb">
    <div class="ui grid">
        <div class="ten wide column center_div">
            <div class="row">
                <h2>Register</h2>
                <h3>Already have an account? <a href="log-in">Log in</a></h3>
                <div class="ui two column divided grid">
                    <div class="row">
                        <div class="column">
                            <form method="POST" class="ui form segment">
                                <div class="field">
                                    <label>Username</label>
                                    <div class="ui left labeled icon input">
                                        <input type="text" placeholder="Username" name="username" value="@Model.ViewModel.Username">
                                        <i class="user icon"></i>
                                        <div class="ui corner label">
                                            <i class="icon asterisk"></i>
                                        </div>
                                    </div>
                                    @Html.ValidationMessageFor(Model.Page.Notifications, "Username")
                                </div>
                                <div class="field">
                                    <label>Password</label>
                                    <div class="ui left labeled icon input">
                                        <input type="password" name="password" value="@Model.ViewModel.Password">
                                        <i class="lock icon"></i>
                                        <div class="ui corner label">
                                            <i class="icon asterisk"></i>
                                        </div>
                                    </div>
                                    @Html.ValidationMessageFor(Model.Page.Notifications, "Password")
                                </div>
                                <div class="field">
                                    <label>Confirm Password</label>
                                    <div class="ui left labeled icon input">
                                        <input type="password" name="confirmPassword" value="@Model.ViewModel.ConfirmPassword">
                                        <i class="lock icon"></i>
                                        <div class="ui corner label">
                                            <i class="icon asterisk"></i>
                                        </div>
                                    </div>
                                    @Html.ValidationMessageFor(Model.Page.Notifications, "ConfirmPassword")
                                </div>
                                <div class="field">
                                    <label>Name</label>
                                    <div class="ui left labeled icon input">
                                        <input type="text" placeholder="Joe Bloggs" name="name" value="@Model.ViewModel.Name">
                                        <i class="user icon"></i>
                                        <div class="ui corner label">
                                            <i class="icon asterisk"></i>
                                        </div>
                                    </div>
                                    @Html.ValidationMessageFor(Model.Page.Notifications, "Name")
                                </div>
                                <div class="field">
                                    <label>Email</label>
                                    <div class="ui left labeled icon input">
                                        <input type="text" placeholder="genghis.khan@sharklasers.com" name="email" value="@Model.ViewModel.Email">
                                        <i class="user icon"></i>
                                        <div class="ui corner label">
                                            <i class="icon asterisk"></i>
                                        </div>
                                    </div>
                                    @Html.ValidationMessageFor(Model.Page.Notifications, "Email")
                                </div>
                                <div class="field">
                                    <div class="ui checkbox">
                                        <input type="checkbox" name="MailingList" checked="@Model.ViewModel.MailingList">
                                        <label>Join Mailing list?</label>
                                    </div>
                                </div>
                                @Html.ValidationSummary(Model.Page.Notifications)
                                <input type="submit" class="ui blue submit button" value="Register" />
                            </form>
                        </div>
                        <div class="column">
                            <h3>Or register with one of these</h3>
                            @Html.Partial("_Providers")
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
