/**
 * MacGyver v0.4.0
 * @link http://angular-macgyver.github.io/MacGyver
 * @license MIT
 */
!function(e,t){var n,r,i,o,l,u,a,c,s,d,p,f;p=["Mac.Util"];try{t.module("ngAnimate"),p.push("ngAnimate")}catch(m){}t.module("Mac",p),i=["Top","Right","Bottom","Left"],r=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,f=new RegExp("^("+r+")(?!px)[a-z%]+$","i"),l=function(t){return e.getComputedStyle(t,null)},s=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},c=function(e){return e&&null!=e.$evalAsync&&null!=e.$watch},a=function(e){return s(e)?e:9===e.nodeType&&e.defaultView},n=function(e,t,n,r,o){var l,u,a;if(n===(r?"border":"content"))return 0;for(u="Width"===t?1:0,l=a=u;3>=a;l=a+=2)"margin"===n&&(val+=parseFloat(o[""+n+i[l]])),r?("content"===n&&(val-=parseFloat(o["padding"+i[l]])),"margin"!==n&&(val-=parseFloat(o["border"+i[l]]))):(val+=parseFloat(o["padding"+i[l]]),"padding"!==n&&(val+=parseFloat(o["border"+i+"Width"])));return val},u=function(e,t,r){return function(i){var o,u,a,c,d,p,m,h;if(o=function(){switch(t){case"inner":return"padding";case"outer":return"";default:return"content"}}(),a=o||(i===!0?"margin":"border"),s(r))return r.document.documentElement["client"+e];if(9===r.nodeType)return u=r.documentElement,Math.max(r.body["scroll"+e],u["scroll"+e],r.body["offset"+e],u["offset"+e],u["client"+e]);if(h=!0,p=l(r),d=e.toLowerCase(),m="Height"===e?r.offsetHeight:r.offsetWidth,c="border-box"===r.style.boxSizing,0>=m||null===m){if(m=p[d],(0>m||null===m)&&(m=r.style[d]),f.test(m))return m;h=c,m=parseFloat(m)||0}return m+n(r,e,a||(c?"border":"content"),h,p)}},d={height:function(e){return u("Height","",e)()},width:function(e){return u("Width","",e)()},outerHeight:function(e,t){return u("Height","outer",e)(t)},outerWidth:function(e,t){return u("Width","outer",e)(t)},offset:function(e){var t,n,r,i;return t={top:0,left:0},(n=e&&e.ownerDocument)?(r=n.documentElement,null!=e.getBoundingClientRect&&(t=e.getBoundingClientRect()),i=a(n),{top:t.top+i.pageYOffset-r.clientTop,left:t.left+i.pageXOffset-r.clientLeft}):void 0},scrollTop:function(t,n){var r;return r=a(t),null==n?r?r.pageYOffset:t.scrollTop:r?r.scrollTo(e.pageYOffset,n):t.scrollTop=n},scrollLeft:function(t,n){var r;return r=a(t),null==n?r?r.pageXOffset:t.scrollLeft:r?r.scrollTo(e.pageXOffset,n):t.scrollLeft=n}},(o=function(){var n;if(null==e.jQuery||null==t.element.prototype.offset)return n=t.element,t.forEach(d,function(e,t){return n.prototype[t]=function(t,n){return this.length?e(this[0],t,n):void 0}})})();var h={}.hasOwnProperty;t.module("Mac.Util",[]).factory("util",["$filter",function(e){return{_inflectionConstants:{uncountables:["sheep","fish","moose","series","species","money","rice","information","info","equipment","min"],irregulars:{child:"children",man:"men",woman:"women",person:"people",ox:"oxen",goose:"geese"},pluralizers:[[/(quiz)$/i,"$1zes"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)(ix|ex)$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/x$/i,"xes"],[/s$/i,"s"],[/$/,"s"]]},pluralize:function(n,r,i){var o,l,u,a,c,s,d,p,f,m,h,v;if(null==n&&(n=""),null==i&&(i=!1),!t.isString(n)||0===this.trim(n).length)return n;if(i&&isNaN(+r))return"";if(null==r&&(r=2),v=this._inflectionConstants,d=v.pluralizers,p=v.uncountables,o=v.irregulars,f=n.split(/\s/).pop(),l=f.toUpperCase()===f,u=f.toLowerCase(),c=1===r||p.indexOf(u)>=0?f:null,null==c&&null!=o[u]&&(c=o[u]),null==c)for(m=0,h=d.length;h>m;m++)if(s=d[m],s[0].test(u)){c=f.replace(s[0],s[1]);break}return c||(c=f),l&&(c=c.toUpperCase()),a=n.slice(0,-f.length)+c,i?""+e("number")(r)+" "+a:a},trim:function(e){var t;return t=String(e)||"",null!=String.prototype.trim?t.trim():t.replace(/^\s+|\s+$/gm,"")},capitalize:function(e){var t;return t=String(e)||"",t.charAt(0).toUpperCase()+t.substring(1)},uncapitalize:function(e){var t;return t=String(e)||"",t.charAt(0).toLowerCase()+t.substring(1)},toCamelCase:function(e){return null==e&&(e=""),this.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t.toUpperCase()})},toSnakeCase:function(e){return null==e&&(e=""),this.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},convertKeysToCamelCase:function(e){var t,n,r;n={};for(t in e)h.call(e,t)&&(r=e[t],t=this.toCamelCase(t),"object"==typeof r&&(null!=r?r.constructor:void 0)!==Array&&(r=this.convertKeysToCamelCase(r)),n[t]=r);return n},convertKeysToSnakeCase:function(e){var t,n,r;n={};for(t in e)h.call(e,t)&&(r=e[t],t=this.toSnakeCase(t),"object"==typeof r&&(null!=r?r.constructor:void 0)!==Array&&(r=this.convertKeysToSnakeCase(r)),n[t]=r);return n},pyth:function(e,t){return Math.sqrt(e*e+t*t)},degrees:function(e){return 180*e/Math.PI},radian:function(e){return e*Math.PI/180},hex2rgb:function(e){var t,n,r;0===e.indexOf("#")&&(e=e.substring(1)),e=e.toLowerCase(),n={},3===e.length?(n.r=e.charAt(0)+e.charAt(0),n.g=e.charAt(1)+e.charAt(1),n.b=e.charAt(2)+e.charAt(2)):(n.r=e.substring(0,2),n.g=e.substring(2,4),n.b=e.substring(4));for(t in n)r=n[t],n[t]=parseInt(r,16);return n},timeRegex:/^(0?[1-9]|1[0-2]):([0-5][0-9])[\s]([AP]M)$/,_urlRegex:/(?:(http[s]?):\/\/)?(?:(www|[\d\w\-]+)\.)?([\d\w\-]+)\.([A-Za-z]{2,6})(:[\d]*)?([:\/?#\[\]@!$&'()*+,;=\w\d-._~%\\]*)?/i,_emailRegex:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,validateUrl:function(e){var t;return t=this._urlRegex.exec(e),null!=t&&(t={url:t[0],protocol:t[1]||"http",subdomain:t[2],name:t[3],domain:t[4],port:t[5],path:t[6]||"/"},t.url=t.url),t},validateEmail:function(e){return this._emailRegex.test(e)},getQueryString:function(e,t){var n,r,i;return null==t&&(t=""),t=t.replace(/[[]/,"[").replace(/[]]/,"]"),r="[?&]"+t+"=([^&#]*)",n=new RegExp(r),i=n.exec(e),null!=i?i[1]:""},parseUrlPath:function(e){var t,n,r,i,o,l,u,a,c,s,d;if(l=e.split("?"),n=l[0].split("/"),t=n.slice(0,n.length-1).join("/"),a=n[n.length-1],r={},l.length>1)for(o=l[l.length-1],d=o.split("&"),c=0,s=d.length;s>c;c++)i=d[c],u=i.split("="),r[u[0]]=null!=u[1]?u[1]:"";return{fullPath:e,path:t,pathComponents:n,verb:a,queries:r}},extendAttributes:function(e,t,n){var r,i,o,l,u,a,c;null==e&&(e=""),l={};for(i in t)h.call(t,i)&&(u=t[i],r=e?this.capitalize(i):i,o=""+e+r,l[i]=null!=n[o]?n[o]||!0:u,"true"===(a=l[i])||"false"===a?l[i]="true"===l[i]:(null!=(c=l[i])?c.length:void 0)>0&&!isNaN(+l[i])&&(l[i]=+l[i]));return l}}}]),t.module("Mac").factory("keys",function(){return{CANCEL:3,HELP:6,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,RETURN:13,SHIFT:16,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,SEMICOLON:59,EQUALS:61,COMMAND:91,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,ADD:107,SEPARATOR:108,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NUM_LOCK:144,SCROLL_LOCK:145,COMMA:188,PERIOD:190,SLASH:191,BACK_QUOTE:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,QUOTE:222,META:224}});var v,g,b,$,w;for(w=["Enter","Escape","Space","Left","Up","Right","Down"],g=function(e){return t.module("Mac").directive("macKeydown"+e,["$parse","keys",function(t,n){return{restrict:"A",link:function(r,i,o){var l;return l=t(o["macKeydown"+e]),i.bind("keydown",function(t){return t.which===n[""+e.toUpperCase()]?(t.preventDefault(),r.$apply(function(){return l(r,{$event:t})})):void 0})}}}])},b=0,$=w.length;$>b;b++)v=w[b],g(v);t.module("Mac").directive("macPauseTyping",["$parse","$timeout",function(e,t){return{restrict:"A",link:function(n,r,i){var o,l,u;return l=e(i.macPauseTyping),o=n.$eval(i.macPauseTypingDelay)||800,u=null,r.bind("keyup",function(e){return null!=u&&t.cancel(u),u=t(function(){return l(n,{$event:e})},o)})}}}]),t.module("Mac").directive("macWindowResize",["$parse","$window",function(e,n){return{restrict:"A",link:function(r,i,o){var l;return l=function(t){var n;return n=e(o.macWindowResize),r.$apply(function(){return n(r,{$event:t})}),!0},t.element(n).bind("resize",l),r.$on("destroy",function(){return t.element(n).unbind("resize",l)})}}}]),t.module("Mac").directive("macAutocomplete",["$animate","$compile","$filter","$http","$parse","$rootScope","$timeout","keys",function(n,r,i,o,l,u,a,c){return{restrict:"EA",template:'<input type="text"/>',transclude:!0,replace:!0,require:"ngModel",link:function(u,s,d,p,f){var m,h,v,g,b,$,w,y,A,x,E,S,T,C,M,k,P,N,O,D,L,I,F,H;return S=d.macAutocompleteLabel||"name",E=l(S),D=d.macAutocompleteQuery||"q",$=+(d.macAutocompleteDelay||800),A=null!=d.macAutocompleteInside,v=l(d.macAutocompleteUrl),M=l(d.macAutocompleteOnSelect),k=l(d.macAutocompleteOnSuccess),C=l(d.macAutocompleteOnError),I=l(d.macAutocompleteSource),w=l(d.macAutocompleteDisabled),b=[],F=null,x=!1,N=!1,m=u.$new(),m.items=[],m.index=0,m.select=function(e){var t,n;return n=b[e],M(u,{selected:n}),t=m.items[e].label||"",N=!0,null!=d.ngModel&&(p.$setViewValue(t),p.$render()),L()},T=t.element(document.createElement("mac-menu")),T.attr({"ng-class":d.macMenuClass||null,"mac-menu-items":"items","mac-menu-select":"select(index)","mac-menu-index":"index"}),f(m,function(e){return T.append(e)}),r(T)(m),p.$parsers.push(function(e){return!e||w(u)||N?L():(null!=F&&a.cancel(F),$>0?F=a(function(){return O(e)},$):O(e)),N=!1,e}),g=function(){return u.$apply(function(){return L()})},h=function(e){return x||(s.bind("blur",g),T.on("mousedown",function(e){return e.preventDefault()})),x=!0,A?n.enter(T,void 0,s,e):n.enter(T,t.element(document.body),void 0,e)},L=function(){n.leave(T,function(){return m.index=0,m.items.length=0,T[0].style.top="",T[0].style.left="",x=!1,s.unbind("blur",g)})},P=function(){var n,r,i;return r=A?s[0]:document.body,i=e.getComputedStyle(r),n=s.offset(),n.left-=parseInt(i.marginLeft),n.top+=s.outerHeight()-parseInt(i.marginTop),n.minWidth=s.outerWidth(),t.forEach(n,function(e,n){return!isNaN(+e)&&t.isNumber(+e)&&(e=""+e+"px"),T[0].style[n]=e})},H=function(e){return(null!=e?e.length:void 0)>0?(b=e,m.items=e.map(function(e){return t.isObject(e)?(null==e.value&&(e.value=E(e)||""),null==e.label&&(e.label=E(e)||""),e):{label:e,value:e}}),h(P)):L()},y=function(e,t){var n;return n={method:"GET",url:e,params:{}},n.params[D]=t,o(n).success(function(e,t,n){var r;return r=k(u,{data:e,status:t,headers:n}),null==r&&(r=e.data),H(r)}).error(function(e,t,n){return C(u,{data:e,status:t,headers:n})})},O=function(e){var n,r;return r=v(u),r?y(r,e):(n=I(u),t.isArray(n)?H(i("filter")(n,e)):t.isString(n)?y(n,e):t.isFunction(n)?n(e,H):void 0)},s.bind("keydown",function(e){if(0===m.items.length)return!0;switch(e.which){case c.DOWN:u.$apply(function(){return m.index=(m.index+1)%m.items.length,e.preventDefault()});break;case c.UP:u.$apply(function(){return m.index=(m.index?m.index:m.items.length)-1,e.preventDefault()});break;case c.ENTER:u.$apply(function(){return m.select(m.index),e.preventDefault()});break;case c.ESCAPE:u.$apply(function(){return L(),e.preventDefault()})}return!0}),u.$on("$destroy",function(){return m.$destroy(),L()}),u.$on("reset-mac-autocomplete",function(){return L()})}}}]),t.module("Mac").directive("macFocusOnEvent",["$timeout",function(t){return function(n,r,i){return n.$on(i.macFocusOnEvent,function(){return t(function(){var t,n;return r.focus(),i.macFocusOnEventScroll?(t=e.scrollX,n=e.scrollY,e.scrollTo(t,n)):void 0},0,!1)})}}]),t.module("Mac").directive("macMenu",[function(){return{restrict:"EA",replace:!0,template:'<div ng-style="style" class="mac-menu"><ul><li mac-menu-transclude="mac-menu-transclude" ng-repeat="item in items" ng-click="selectItem($index)" ng-class="{\'active\': $index == index}" ng-mouseenter="setIndex($index)" class="mac-menu-item"></li></ul></div>',transclude:!0,controller:t.noop,scope:{items:"=macMenuItems",style:"=macMenuStyle",select:"&macMenuSelect",pIndex:"=macMenuIndex"},link:function(e,t,n){return e.selectItem=function(t){return e.select({index:t})},e.setIndex=function(t){return e.index=t,null!=n.macMenuIndex?e.pIndex=parseInt(t):void 0},null!=n.macMenuIndex&&e.$watch("pIndex",function(t){return e.index=parseInt(t)}),e.$watch("items.length",function(e){return e?n.$addClass("visible"):n.$removeClass("visible")})}}}]).directive("macMenuTransclude",["$compile",function(e){return{link:function(t,n,r,i,o){return o(t,function(r){return n.empty(),0===r.length&&(r=e("<span>{{item.label}}</span>")(t)),n.append(r)})}}}]),t.module("Mac").service("modal",["$rootScope","$animate","$templateCache","$compile","$http","$controller","modalViews","keys",function(n,r,i,o,l,u,a,s){return{registered:a.registered,waiting:null,opened:null,modalTemplate:'<div class="mac-modal-overlay hide">\n  <div class="mac-modal">\n    <a mac-modal-close class="mac-close-modal"></a>\n    <div class="mac-modal-content-wrapper"></div>\n  </div>\n</div>',show:function(e,a){var s,d,p,f,m,h,v;if(null==a&&(a={}),null!=this.registered[e]&&null!=this.opened)return this.hide();if(null==this.registered[e])return this.waiting={id:e,options:a};if(s=this.registered[e],d=s.options,h={},t.extend(h,d,a),m=function(t){return function(i){return h.beforeShow(i.scope()),r.removeClass(i,"hide",function(){return r.addClass(i,"visible",function(){return t.opened={id:e,element:i,options:h},t.resize(t.opened),t.bindingEvents(),h.open(i.scope()),h.afterShow(i.scope()),n.$broadcast("modalWasShown",e),t.clearWaiting()})})}}(this),null!=h.moduleMethod){if(f=function(i){return function(l){var a,s,d;return c(h.scope)?s=h.scope:(s=n.$new(!0),t.isObject(h.scope)&&t.extend(s,h.scope)),t.extend(h.attributes,{id:e}),a=t.element(i.modalTemplate).attr(h.attributes),d=t.element(a[0].getElementsByClassName("mac-modal-content-wrapper")),d.html(l),h.overlayClose&&a.bind("click",function(e){return t.element(e.target).hasClass("mac-modal-overlay")?s.$apply(function(){return i.hide()}):void 0}),h.controller&&u(h.controller,{$scope:s,$element:a,macModalOptions:h}),r.enter(a,t.element(document.body)),o(a)(s),m(a)}}(this),p=h.templateUrl)return v=i.get(p),v?f(v):l.get(p).then(function(e){return i.put(p,e.data),f(e.data)},function(){throw Error("Failed to load template: "+p)});if(v=h.template)return f(v)}else if(null!=s.element)return m(s.element)},resize:function(n){var r,i,o,l,u,a;return null==n&&(n=this.opened),null!=n&&(i=n.element,u=n.options,u.position)?(l=t.element(i[0].getElementsByClassName("mac-modal")).attr("style",""),o=l.outerHeight(),a=l.outerWidth(),r=t.element(e).height()>o?{marginTop:-o/2}:{top:u.topOffset},r.marginLeft=-a/2,t.forEach(r,function(e,n){return!isNaN(+e)&&t.isNumber(+e)&&(e=""+e+"px"),l.css(n,e)})):void 0},hide:function(e){var t,i,o,l;if(null!=this.opened)return l=this.opened,i=l.id,o=l.options,t=l.element,o.beforeHide(t.scope()),r.removeClass(t,"visible",function(l){return function(){return l.bindingEvents("unbind"),l.opened=null,o.moduleMethod?(c(o.scope)||t.scope().$destroy(),r.leave(t)):r.addClass(t,"hide"),o.afterHide(t.scope()),n.$broadcast("modalWasHidden",i),e&&e()}}(this))},bindingEvents:function(n){var r,i,o;return null==n&&(n="bind"),"bind"!==n&&"unbind"!==n||null==this.opened?void 0:(r=function(e){return function(t){return t.which===s.ESCAPE?e.hide():void 0}}(this),o=function(e){return function(){return e.resize()}}(this),i=this.opened.options,i.keyboard&&t.element(document)[n]("keydown",r),i.resize?t.element(e)[n]("resize",o):void 0)},register:function(e,n,r){var i;if(null!=this.registered[e])throw new Error("Modal "+e+" already registered");return i={},t.extend(i,a.defaults,r),this.registered[e]={id:e,element:n,options:i},null!=this.waiting&&this.waiting.id===e?this.show(e,this.waiting.options):void 0},unregister:function(e){var t;if(null==this.registered[e])throw new Error("Modal "+e+" is not registered");return(null!=(t=this.opened)?t.id:void 0)===e&&this.hide(),this.clearWaiting(e),delete this.registered[e]},clearWaiting:function(e){var t;if(null==e||(null!=(t=this.waiting)?t.id:void 0)===e)return this.waiting=null}}}]).provider("modalViews",function(){return this.registered={},this.defaults={keyboard:!1,overlayClose:!1,resize:!0,position:!0,open:t.noop,topOffset:20,attributes:{},beforeShow:t.noop,afterShow:t.noop,beforeHide:t.noop,afterHide:t.noop},this.$get=function(){return this},this}).config(["modalViewsProvider",function(e){return t.module("Mac").modal=function(n,r){var i;return null==e.registered[n]?(i={},t.extend(i,e.defaults,r,{moduleMethod:!0}),e.registered[n]={id:n,options:i}):void 0}}]),t.module("Mac").provider("popoverViews",function(){return this.registered={},this.defaults={fixed:!1,childPopover:!1,offsetY:0,offsetX:0,trigger:"click"},this.popoverDefaults={footer:!1,header:!1,title:"",direction:"above left"},this.template='<div class="mac-popover" ng-class="macPopoverClasses">\n  <div class="tip"></div>\n  <div class="popover-header">\n    <div class="title">{{macPopoverTitle}}</div>\n  </div>\n  <div mac-popover-fill-content></div>\n</div>',this.$get=function(){return this},this}).service("popover",["$animate","$compile","$controller","$http","$rootScope","$templateCache","$timeout","popoverViews",function(n,r,i,o,l,u,a,s){var d;return d={popoverList:[],registered:s.registered,last:function(){return this.popoverList[this.popoverList.length-1]},register:function(e,t){var n;return(n=null!=this.registered[e])||(this.registered[e]=t),!n},unregister:function(e){var t;return(t=null!=this.registered[e])&&delete this.registered[e],t},add:function(e,t,n,r){var i;return i={id:e,popover:t,element:n,options:r},this.popoverList.push(i),i},pop:function(){return this.popoverList.pop()},show:function(e,a,p){var f,m;return null==p&&(p={}),(m=this.registered[e])?(f=function(){var f,h,v;return h=function(o){var u,f,h;return c(p.scope)?h=p.scope.$new():(h=l.$new(!0),t.isObject(p.scope)&&t.extend(h,p.scope)),m.refreshOn&&h.$on(m.refreshOn,function(){return d.resize(e)}),m.controller&&i(m.controller,{$scope:h}),t.extend(h,{macPopoverClasses:{footer:m.footer||!1,header:m.header||!!m.title||!1,fixed:m.fixed||!1},macPopoverTitle:m.title||"",macPopoverTemplate:o}),u=r(s.template)(h),u.attr({id:e,direction:m.direction||"below left"}),f=d.add(e,u,a,p),n.addClass(a,"active"),l.$broadcast("popoverWasShown",e),n.enter(u,t.element(document.body),null,function(){return d.resize(f)})},(v=m.template)?h(v):(f=m.templateUrl)?(v=u.get(f),v?h(v):o.get(f).then(function(e){return u.put(f,e.data),h(e.data)},function(){throw new Error("Failed to load template: #{path}")})):void 0},d.popoverList.length&&!p.childPopover?d.hide(f):f(),!0):!1},getById:function(e,t){var n,r,i,o,l;for(l=this.popoverList,i=0,o=l.length;o>i;i++)if(n=l[i],r=null==t||n.element===t,n.id===e&&r)return n},resize:function(n){var r,i,o,l,u,a,c,s,p,f,m,h,v,g,b,$;return t.isString(n)&&(n=d.getById(n)),null!=n?(l=n.popover,h=n.element,p=n.options,r=t.element(e),s=h.offset(),p.fixed&&(s.top=h.position().top),m={height:h.outerHeight(),width:h.outerWidth()},o={height:l.outerHeight(),width:l.outerWidth()},g=0,a=0,f=(l.attr("direction")||"top left").trim(),v=function(e){var n,r;return null==e&&(e=0),n=t.element(l[0].getElementsByClassName("tip")),g-=e,r=+n.css("margin-top").replace("px",""),n.css("margin-top",r+e)},$=function(){switch(f){case"above left":return g=-(o.height+10),a=-25+m.width/2;case"above right":return g=-(o.height+10),a=25+m.width/2-o.width;case"below left":return g=m.height+10,a=-25+m.width/2;case"below right":return g=m.height+10,a=25+m.width/2-o.width;case"middle right":return g=m.height/2-o.height/2,a=m.width+10;case"middle left":return g=m.height/2-o.height/2,a=-(o.width+10)}},$(),b=p.fixed?0:r.scrollTop(),c=p.fixed?0:r.scrollLeft(),i={},-1===f.indexOf("middle")?s.top+g-b<0?i={remove:"above",add:"below"}:s.top+g+o.height-b>r.height()&&(i={remove:"below",add:"above"}):(u=s.top+g-b)<0?v(u):(u=s.top+g+l.outerHeight()-b-r.height())>0&&v(u),i.remove&&i.add&&(f=f.replace(i.remove,i.add)),i={},s.left+a-c<0?i={remove:"right",add:"left"}:s.left+a+l.outerWidth()-c>r.width()&&(i={remove:"left",add:"right"}),i.remove&&i.add&&(f=f.replace(i.remove,i.add)),$(),s.top+=g,s.left+=a,null!=p.offsetX&&(s.left+=p.offsetX),null!=p.offsetY&&(s.top+=p.offsetY),t.forEach(s,function(e,t){return isNaN(+e)||(e=""+e+"px"),l.css(t,e)}),l.addClass("visible "+f)):void 0},hide:function(e,r){var i,o,u,a,c,s,d;if(!this.popoverList.length)return"function"==typeof r?r():void 0;if(t.isFunction(e)&&(r=e,e=null),null!=e){for(i=t.isString(e)?function(t){return t.id===e}:t.isElement(e)?function(t){return t.element===e}:void 0,u=-1,o=s=d=this.popoverList.length-1;s>=0;o=s+=-1)if(i(this.popoverList[o])){a=this.popoverList[o],u=o;break}u>-1&&this.popoverList.splice(u,1)}else a=this.pop();return null!=a?(l.$broadcast("popoverBeforeHide",a.id),c=a.popover.scope(),n.leave(a.popover,function(){return n.removeClass(a.element,"active"),l.$broadcast("popoverWasHidden",a.id),c.$destroy(),"function"==typeof r?r():void 0})):void 0},hideAll:function(){for(;this.popoverList.length;)this.hide()}}}]).config(["popoverViewsProvider",function(e){return t.module("Mac").popover=function(n,r){var i;return null==e.registered[n]?(i={},t.extend(i,e.popoverDefaults,r,{id:n}),e.registered[n]=i):void 0}}]),t.module("Mac").directive("macModal",["$parse","modal","modalViews","util",function(e,n,r,i){return{restrict:"E",template:n.modalTemplate,replace:!0,transclude:!0,link:function(o,l,u,a,c){var s,d,p,f,m,h,v,g;for(c(o,function(e){return t.element(l[0].getElementsByClassName("mac-modal-content-wrapper")).replaceWith(e)}),p=i.extendAttributes("macModal",r.defaults,u),f=null,p.overlayClose&&l.on("click",function(e){return t.element(e.target).hasClass("mac-modal-overlay")?o.$apply(function(){return n.hide()}):void 0}),g=["beforeShow","afterShow","beforeHide","afterHide","open"],h=0,v=g.length;v>h;h++)s=g[h],d="macModal"+i.capitalize(s),p[s]=e(u[d])||t.noop;return m=function(e){return null!=e&&e?(f=e,n.register(e,l,p)):void 0},u.id?m(u.id):u.$observe("macModal",function(e){return m(e)}),o.$on("$destroy",function(){return f?n.unregister(f):void 0})}}}]).directive("macModal",["$parse","modal",function(e,t){return{restrict:"A",link:function(n,r,i){i.macModal&&r.bind("click",function(){return n.$apply(function(){var r;return r=e(i.macModalData)(n)||{},t.show(i.macModal,{data:r,scope:n})})})}}}]).directive("macModalClose",["modal",function(e){return{restrict:"A",link:function(t,n){return n.bind("click",function(){return t.$apply(function(){return e.hide()})})}}}]);var y=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("Mac").directive("macPopover",["$timeout","popover","util","popoverViews",function(e,t,n,r){return{restrict:"A",link:function(i,o,l){var u,a,c,s,d,p,f,m;return f=n.extendAttributes("macPopover",r.defaults,l),s=l.macPopoverExclude||"",d=s?s.split(","):[],c=null,a=null,u=function(){return null!=c&&e.cancel(c),null!=a?e.cancel(a):void 0},m=function(n,r){return null==r&&(r=0),u(),c=e(function(){var e,r;return e=t.last(),null!=e&&(!d.length||(r=e.id,y.call(d,r)>=0)||e.id===n)&&(t.hide(),o[0]===e.element[0])?!0:(f.scope=i,t.show(n,o,f))},r),!0},p=function(n,r){return null==r&&(r=0),u(),a=e(function(){return t.hide(n)},r)},l.$observe("macPopover",function(e){var t,n;if(e)return"click"===f.trigger?o.bind("click",function(){return m(e,0)}):(n="focus"===f.trigger?"focusin":"mouseenter",t="focus"===f.trigger?"focusout":"mouseleave",o.bind(n,function(){return m(e,400)}),o.bind(t,function(){return p(o,500)}))})}}}]).directive("macPopover",["popover","popoverViews","util",function(e,n,r){return{restrict:"E",compile:function(i,o){var l;if(!o.id)throw Error("macPopover: Missing id");return l=r.extendAttributes("macPopover",n.popoverDefaults,o),t.extend(l,{template:i.html()}),i.replaceWith(document.createComment("macPopover: "+o.id)),function(t,n,r){return r.$observe("id",function(t){return e.register(t,l)})}}}}]).directive("macPopoverFillContent",["$compile",function(e){return{restrict:"A",link:function(t,n){return n.html(t.macPopoverTemplate),e(n.contents())(t)}}}]),t.module("Mac").directive("macPlaceholder",function(){return{restrict:"A",link:function(e,t,n){return e.$watch(n.macPlaceholder,function(e){return n.$set("placeholder",e)})}}}),t.module("Mac").service("scrollSpy",[function(){return{registered:[],active:{},listeners:[],register:function(e,t){var n,r,i,o,l,u,a;for(i=!1,o=t.offset().top,a=this.registered,r=l=0,u=a.length;u>l;r=++l)if(n=a[r],n.id===e){this.registered[r]={id:e,element:t,top:o},i=!0;break}return i||this.registered.push({id:e,element:t,top:o}),this.registered.sort(function(e,t){return e.top>t.top?1:e.top<t.top?-1:0})},unregister:function(e){var t,n,r,i,o,l,u;for(o=this.registered,u=[],n=r=0,i=o.length;i>r;n=++r)if(t=o[n],t.id===e){[].splice.apply(this.registered,[n,n-n+1].concat(l=[])),l;break}return u},last:function(){return this.registered[this.registered.length-1]},setActive:function(e){var t,n,r,i,o;for(this.active=e,i=this.listeners,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(t(e));return o},addListener:function(e){return this.listeners.push(e)},removeListener:function(e){var t,n;return t=this.listeners.indexOf(e),-1!==t?([].splice.apply(this.listeners,[t,t-t+1].concat(n=[])),n):void 0}}}]).constant("scrollSpyDefaults",{offset:0}),t.module("Mac").directive("macScrollSpy",["$window","scrollSpy","scrollSpyDefaults","util",function(e,n,r,i){return{link:function(o,l,u){var a,c;return a=i.extendAttributes("macScrollSpy",r,u),c="BODY"===l[0].tagName?t.element(e):l,c.bind("scroll",function(){var e,t,r,i,u,s,d;if(u=c.scrollTop()+a.offset,i=this.scrollHeight||l[0].scrollHeight,r=i-c.height(),!n.registered.length)return!0;if(u>=r)return n.setActive(n.last());for(t=s=0,d=n.registered.length-1;d>=0?d>=s:s>=d;t=d>=0?++s:--s)if(e=n.registered,n.active.id!==e[t].id&&u>=e[t].top&&(!e[t+1]||u<=e[t+1].top))return o.$apply(function(){return n.setActive(e[t])}),!0})}}}]).directive("macScrollSpyAnchor",["scrollSpy",function(e){return{link:function(t,n,r){var i,o,l,u;if(i=r.id||r.macScrollSpyAnchor,l=!1,!i)throw new Error("Missing scroll spy anchor id");return u=function(){return e.register(i,n),l||t.$on("$destroy",function(){return e.unregister(i)}),l=!0},t.$on("refresh-scroll-spy",u),/{{(.*)}}/.test(i)?(o=r.id?"id":"macScrollSpyAnchor",r.$observe(o,function(e){return null!=e&&e?(i=e,u()):void 0})):u()}}}]).directive("macScrollSpyTarget",["scrollSpy",function(e){return{link:function(t,n,r){var i,o,l,u;if(u=r.macScrollSpyTarget,i=r.macScrollSpyTargetClass||"active",l=!1,!u)throw new Error("Missing scroll spy target name");return o=function(r){var o;if(r)return o=function(e){var t;return t=r===e.id?"addClass":"removeClass",n[t](i)},null!=e.active&&o(e.active),l?void 0:(e.addListener(o),t.$on("$destroy",function(){return e.removeListener(o)}))},/{{(.*)}}/.test(u)?r.$observe("macScrollSpyTarget",function(e){return o(e)}):o(u)}}}]),t.module("Mac").directive("macAffix",["$document","$window",function(e,n){return{link:function(r,i,o){var l,u,a,c,s,d,p,f,m,h;return l={top:0,bottom:0,disabled:!1,classes:"affix affix-top affix-bottom"},s={top:l.top,bottom:l.bottom},u=l.disabled,c=null,m=null,d=null,h=t.element(n),f=function(e,t,n){return null==n&&(n=!1),n&&null==t&&(t=l[e]),null==t||isNaN(+t)?void 0:s[e]=+t},null!=o.macAffixTop&&(f("top",r.$eval(o.macAffixTop),!0),r.$watch(o.macAffixTop,function(e){return f("top",e)})),null!=o.macAffixBottom&&(f("bottom",r.$eval(o.macAffixBottom),!0),r.$watch(o.macAffixBottom,function(e){return f("bottom",e)})),a=function(){var t;return null!=d?d:(i.removeClass(l.classes).addClass("affix"),t=e.height(),d=t-i.outerHeight()-s.bottom)},p=function(){var t,n,r,o,u,d;if(!(i[0].offsetHeight<=0&&i[0].offsetWidth<=0)&&(o=i.offset(),d=h.scrollTop(),u=e.height(),r=i.outerHeight(),t=null!=m&&m>=d?!1:null!=s.bottom&&d>u-r-s.bottom?"bottom":null!=s.top&&d<=s.top?"top":!1,t!==c))return m&&i.css("top",""),c=t,m="bottom"===t?a():null,i.removeClass(l.classes).addClass("affix"+(t?"-"+t:"")),"bottom"===t&&(n=i.offset(),i.css("top",m-n.top)),!0},null!=o.macAffixDisabled&&(u=r.$eval(o.macAffixDisabled)||l.disabled,r.$watch(o.macAffixDisabled,function(e){var t;if(null!=e&&e!==u)return u=e,t=e?"unbind":"bind",h[t]("scroll",p),u?(c=null,m=null,i.css("top","").removeClass(l.classes)):p()})),u||h.bind("scroll",p),r.$on("refresh-mac-affix",function(){var e;return e=i.offset()}),r.$on("$destroy",function(){return h.unbind("scroll",p)})}}}]),t.module("Mac").directive("macSpinner",["util",function(e){return{restrict:"E",replace:!0,template:'<div class="mac-spinner"></div>',compile:function(n){var r,i,o,l,u,a,c,s,d,p;for(a=["webkit","Moz","ms","O"],d=function(t,n){var r,i,o;for(n=e.capitalize(n),i=0,o=a.length;o>i;i++)if(r=a[i],null!=t.style[r+n])return r+n;return n},r=d(n[0],"animation"),s=d(n[0],"transform"),u=p=0;9>=p;u=++p)l=.1*u-1+!u,o=36*u,c={},i=t.element('<div class="bar"></div>'),c[r]="fade 1s linear infinite "+l+"s",c[s]="rotate("+o+"deg) translate(0, 130%)",i.css(c),n.append(i);return function(e,n,r){var i,o,l;return o={size:16,zIndex:"inherit",color:"#2f3035"},i=t.element(n[0].getElementsByClassName("bar")),l=function(e){return i.css({height:.32*e+"px",left:.445*e+"px",top:.37*e+"px",width:.13*e+"px",borderRadius:.32*e*2+"px",position:"absolute"}),!isNaN(+e)&&t.isNumber(+e)&&(e=""+e+"px"),n.css({height:e,width:e})},null!=r.macSpinnerSize?r.$observe("macSpinnerSize",function(e){return null!=e&&e?l(e):void 0}):l(o.size),r.$observe("macSpinnerZIndex",function(e){return null!=e&&e?n.css("z-index",e):void 0}),null!=r.macSpinnerColor?r.$observe("macSpinnerColor",function(e){return null!=e&&e?i.css("background",e):void 0}):i.css("background",o.color)}}}}]);var y=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("Mac").directive("macTagAutocomplete",["$parse","$timeout","keys","util",function(e,n,r,i){return{restrict:"E",template:'<div ng-click="focusTextInput()" class="mac-tag-autocomplete"><ul class="mac-tag-list"><li ng-repeat="tag in selected" class="mac-tag mac-label"><div ng-click="selected.splice($index, 1)" class="mac-tag-close">&times;</div><span class="tag-label">{{getTagLabel(tag)}}</span></li><li ng-class="{\'fullwidth\': !selected.length}" class="mac-tag mac-input-tag"><mac-autocomplete ng-model="textInput" mac-autocomplete-disabled="disabled" mac-autocomplete-on-select="onSelect(selected)" mac-autocomplete-on-success="onSuccess(data)" mac-placeholder="autocompletePlaceholder" ng-keydown="onKeyDown($event)" class="text-input mac-autocomplete"></mac-autocomplete></li></ul></div>',replace:!0,priority:800,scope:{url:"=macTagAutocompleteUrl",placeholder:"=macTagAutocompletePlaceholder",selected:"=macTagAutocompleteSelected",source:"=macTagAutocompleteSource",disabled:"=macTagAutocompleteDisabled",model:"=macTagAutocompleteModel",onEnter:"&macTagAutocompleteOnEnter",onKeydown:"&macTagAutocompleteOnKeydown"},compile:function(o,l){var u,a,c,s,d,p,f,m,h;return h=l.macTagAutocompleteValue,null==h&&(h="id"),m=e(h),s=l.macTagAutocompleteLabel,null==s&&(s="name"),c=e(s),d=l.macTagAutocompleteQuery||"q",a=+l.macTagAutocompleteDelay||800,f=!1,p=t.element(o[0].getElementsByClassName("mac-autocomplete")),u={"mac-autocomplete-label":s,"mac-autocomplete-query":d,"mac-autocomplete-delay":a},null!=l.macTagAutocompleteUrl?u["mac-autocomplete-url"]="url":(f=null!=l.macTagAutocompleteSource)&&(u["mac-autocomplete-source"]="autocompleteSource"),p.attr(u),function(o,l,u){var a,d;return o.textInput="",o.autocompleteSource=t.isArray(o.source)?[]:o.source,null!=u.macTagAutocompleteModel&&(o.$watch("textInput",function(e){return o.model=e}),o.$watch("model",function(e){return o.textInput=e
})),o.focusTextInput=function(){var e;return e=l[0].getElementsByClassName("mac-autocomplete"),e[0].focus()},o.getTagLabel=function(e){return s?c(e):e},n(function(){var n,r,a,c,s,d,f,m;if(a=u.macTagAutocompleteEvents){for(p=t.element(l[0].getElementsByClassName("text-input")),f=a.split(","),m=[],s=0,d=f.length;d>s;s++)c=f[s],c=i.trim(c),n=i.capitalize(c),r=u["macTagAutocompleteOn"+n],r&&"keydown"!==c&&m.push(function(t,n){return p.bind(t,function(t){var r;return r=e(n),o.$apply(function(){return r(o.$parent,{$event:t,item:o.textInput})})})}(c,r));return m}},0,!1),a=function(){var e,n,r,i,l;return o.autocompletePlaceholder=(null!=(l=o.selected)?l.length:void 0)?"":o.placeholder,f&&t.isArray(o.source)?(i=function(){var e,t,r,i;for(r=o.source||[],i=[],e=0,t=r.length;t>e;e++)n=r[e],i.push(m(n));return i}(),r=function(){var e,t,r,i;for(r=o.selected||[],i=[],e=0,t=r.length;t>e;e++)n=r[e],i.push(m(n));return i}(),e=function(){var e,t,o;for(o=[],e=0,t=i.length;t>e;e++)n=i[e],y.call(r,n)<0&&o.push(n);return o}(),o.autocompleteSource=function(){var t,r,i,l,u;for(i=o.source||[],u=[],t=0,r=i.length;r>t;t++)n=i[t],l=m(n),y.call(e,l)>=0&&u.push(n);return u}()):(o.autocompleteSource=o.source,void 0)},f&&(d=t.isArray(o.source)?"$watchCollection":"$watch",o[d]("source",a)),o.$watchCollection("selected",a),o.onKeyDown=function(e){var t,n;switch(t=e.which||e.keyCode){case r.BACKSPACE:o.textInput||"function"==typeof(n=o.selected).pop&&n.pop();break;case r.ENTER:o.textInput.length>0&&o.disabled&&o.onSelect(o.textInput)}return null!=u.macTagAutocompleteOnKeydown&&"function"==typeof o.onKeydown&&o.onKeydown({$event:e,value:o.textInput}),!0},o.onSuccess=function(e){var t,n;return t=function(){var e,t,r,i;for(r=o.selected||[],i=[],e=0,t=r.length;t>e;e++)n=r[e],i.push(m(n));return i}(),function(){var r,i,o,l,u;for(o=e.data,u=[],r=0,i=o.length;i>r;r++)n=o[r],l=m(n)||n,y.call(t,l)<0&&u.push(n);return u}()},o.onSelect=function(e){return null!=u.macTagAutocompleteOnEnter&&(e=o.onEnter({item:e})),e&&o.selected.push(e),n(function(){return o.textInput=""},0)},o.$on("mac-tag-autocomplete-clear-input",function(){return o.textInput=""})}}}}]),t.module("Mac").directive("macTime",["$filter","$timeout","keys","util",function(e,t,n,r){var i;return i={"default":"12:00 AM"},{restrict:"E",require:"ngModel",replace:!0,template:'<input type="text" maxlength="8" class="mac-date-time"/>',link:function(o,l,u,a){var c,s,d,p,f,m,h,v,g,b,$,w,y,A,x,E,S;return f=r.extendAttributes("macTime",i,u),y=null,u.placeholder||u.$set("placeholder","--:--"),A=function(e){return!e||r.timeRegex.exec(e)?(a.$setValidity("time",!0),e):(a.$setValidity("time",!1),void 0)},a.$formatters.push(A),a.$parsers.push(A),(p=function(){var e;return e=(new Date).toDateString(),y=new Date(e+" "+f["default"]),isNaN(y.getTime())?y=new Date(e+" "+i["default"]):void 0})(),c=function(){var e;switch(e=l[0].selectionStart,!1){case!(e>=0&&3>e):return"hour";case!(e>=3&&6>e):return"minute";case!(e>=6&&9>e):return"meridian"}},$=function(e,n){return t(function(){return l[0].setSelectionRange(e,n)},0,!1)},m=function(){return $(0,2)},v=function(){return $(3,5)},h=function(){return $(6,8)},g=function(){switch(c()){case"hour":return v();case"minute":case"meridian":return h()}},b=function(){switch(c()){case"hour":case"minute":return m();case"meridian":return v()}},w=function(e){var t;return t=y.getHours(),t>=12&&"AM"===e&&(t-=12),12>t&&"PM"===e&&(t+=12),y.setHours(t)},x=function(){var e;return e=y.getHours(),y.setHours((e+12)%24)},s=function(e){return y.setHours(y.getHours()+e)},d=function(e){return y.setMinutes(y.getMinutes()+e)},E=function(){var t;return t=e("date")(y.getTime(),"hh:mm a"),t!==a.$viewValue?(a.$setViewValue(t),a.$render()):void 0},S=function(){var e,t,n,i;return(i=r.timeRegex.exec(a.$modelValue))?(e=+i[1],n=+i[2],t=i[3],"PM"===t&&12!==e&&(e+=12),"AM"===t&&12===e&&(e=0),y.setHours(e,n)):void 0},l.on("blur",function(){return o.$apply(function(){return E()})}),l.on("click",function(){return o.$apply(function(){switch(S(),E(),c()){case"hour":return m();case"minute":return v();case"meridian":return h()}})}),l.on("keydown",function(e){var t;return t=e.which,t!==n.UP&&t!==n.DOWN&&t!==n.LEFT&&t!==n.RIGHT&&t!==n.A&&t!==n.P?!0:(e.preventDefault(),o.$apply(function(){var e,r;switch(t){case n.UP:case n.DOWN:switch(e=t===n.UP?1:-1,c()){case"hour":s(e),m();break;case"minute":d(e),v();break;case"meridian":x(),h()}return E();case n.LEFT:case n.RIGHT:switch(t){case n.LEFT:b();break;case n.RIGHT:g()}return E();case n.A:case n.P:switch(r="meridian"===c(),!1){case!(r&&t===n.A):w("AM");break;case!(r&&t===n.P):w("PM")}return E(),h()}}))}),l.on("keyup",function(e){var t;return t=e.which,n.NUMPAD0<=t&&t<=n.NUMPAD9||n.ZERO<=t&&t<=n.NINE||e.preventDefault(),o.$apply(function(){return S()})})}}}]),t.module("Mac").directive("macTooltip",["$timeout","util",function(e,n){return{restrict:"A",link:function(r,i,o){var l,u,a,c,s,d,p,f,m;return m=null,p="",a=!1,u=!1,l={direction:"top",trigger:"hover",inside:!1},c=n.extendAttributes("macTooltip",l,o),d=function(){var e,n,r,o;if(u||!p)return!0;switch(r=c.inside?i:t.element(document.body),s(0),m=t.element('<div class="mac-tooltip '+c.direction+'"><div class="tooltip-message">'+p+"</div></div>"),r.append(m),n=c.inside?{top:0,left:0}:i.offset(),e={width:i.outerWidth(),height:i.outerHeight()},o={width:m.outerWidth(),height:m.outerHeight()},c.direction){case"bottom":case"top":n.left+=e.width/2-o.width/2;break;case"left":case"right":n.top+=e.height/2-o.height/2}switch(c.direction){case"bottom":n.top+=e.height;break;case"top":n.top-=o.height;break;case"left":n.left-=o.width;break;case"right":n.left+=e.width}return n.top=Math.max(0,n.top),n.left=Math.max(0,n.left),t.forEach(n,function(e,n){return!isNaN(+e)&&t.isNumber(+e)&&(e=""+e+"px"),m.css(n,e)}),m.addClass("visible"),!0},s=function(t){return null==t&&(t=100),null!=m&&(m.removeClass("visible"),e(function(){return null!=m&&m.remove(),m=null},t,!1)),!0},f=function(){return null!=m?s():d()},o.$observe("macTooltip",function(e){var t;if(null!=e&&(p=e,!a)){if("hover"!==(t=c.trigger)&&"click"!==t)throw"Invalid trigger";switch(c.trigger){case"click":i.bind("click",f);break;case"hover":i.bind("mouseenter",d),i.bind("mouseleave click",function(){return s()})}return a=!0}}),null!=o.macTooltipDisabled&&r.$watch(o.macTooltipDisabled,function(e){return u=e}),r.$on("$destroy",function(){return null!=m?s(0):void 0})}}}])}(window,window.angular);