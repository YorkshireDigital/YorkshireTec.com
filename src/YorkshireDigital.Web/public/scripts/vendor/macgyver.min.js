/**
 * MacGyver v0.4.0
 * @link http://angular-macgyver.github.io/MacGyver
 * @license MIT
 */
!function(e,t){var n,i,r,a,s,o,l,c,u,d,p,h;p=["Mac.Util"];try{t.module("ngAnimate"),p.push("ngAnimate")}catch(f){}t.module("Mac",p),r=["Top","Right","Bottom","Left"],i=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,h=new RegExp("^("+i+")(?!px)[a-z%]+$","i"),s=function(t){return e.getComputedStyle(t,null)},u=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},c=function(e){return e&&null!=e.$evalAsync&&null!=e.$watch},l=function(e){return u(e)?e:9===e.nodeType&&e.defaultView},n=function(e,t,n,i,a){var s,o,l;if(n===(i?"border":"content"))return 0;for(o="Width"===t?1:0,s=l=o;3>=l;s=l+=2)"margin"===n&&(val+=parseFloat(a[""+n+r[s]])),i?("content"===n&&(val-=parseFloat(a["padding"+r[s]])),"margin"!==n&&(val-=parseFloat(a["border"+r[s]]))):(val+=parseFloat(a["padding"+r[s]]),"padding"!==n&&(val+=parseFloat(a["border"+r+"Width"])));return val},o=function(e,t,i){return function(r){var a,o,l,c,d,p,f,m;if(a=function(){switch(t){case"inner":return"padding";case"outer":return"";default:return"content"}}(),l=a||(r===!0?"margin":"border"),u(i))return i.document.documentElement["client"+e];if(9===i.nodeType)return o=i.documentElement,Math.max(i.body["scroll"+e],o["scroll"+e],i.body["offset"+e],o["offset"+e],o["client"+e]);if(m=!0,p=s(i),d=e.toLowerCase(),f="Height"===e?i.offsetHeight:i.offsetWidth,c="border-box"===i.style.boxSizing,0>=f||null===f){if(f=p[d],(0>f||null===f)&&(f=i.style[d]),h.test(f))return f;m=c,f=parseFloat(f)||0}return f+n(i,e,l||(c?"border":"content"),m,p)}},d={height:function(e){return o("Height","",e)()},width:function(e){return o("Width","",e)()},outerHeight:function(e,t){return o("Height","outer",e)(t)},outerWidth:function(e,t){return o("Width","outer",e)(t)},offset:function(e){var t,n,i,r;return t={top:0,left:0},(n=e&&e.ownerDocument)?(i=n.documentElement,null!=e.getBoundingClientRect&&(t=e.getBoundingClientRect()),r=l(n),{top:t.top+r.pageYOffset-i.clientTop,left:t.left+r.pageXOffset-i.clientLeft}):void 0},scrollTop:function(t,n){var i;return i=l(t),null==n?i?i.pageYOffset:t.scrollTop:i?i.scrollTo(e.pageYOffset,n):t.scrollTop=n},scrollLeft:function(t,n){var i;return i=l(t),null==n?i?i.pageXOffset:t.scrollLeft:i?i.scrollTo(e.pageXOffset,n):t.scrollLeft=n}},a=function(){var n;if(null==e.jQuery||null==t.element.prototype.offset)return n=t.element,t.forEach(d,function(e,t){return n.prototype[t]=function(t,n){return this.length?e(this[0],t,n):void 0}})},a(),function(e,t){function n(t,n){var r,a,s,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,a=r.name,t.href&&a&&"map"===r.nodeName.toLowerCase()?(s=e("img[usemap=#"+a+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,a=e(this[0]);a.length&&a[0]!==document;){if(i=a.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(a.css("zIndex"),10),!isNaN(r)&&0!==r))return r;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(a,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var a="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?o["inner"+i].call(this):this.each(function(){e(this).css(s,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,a=e.ui[t].prototype;for(r in i)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),function(e,t){function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){e.datepicker._isDisabledDatepicker(a.inline?t.parent()[0]:a.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function r(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var a,s="datepicker";e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,a;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),r),a.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,a):r&&this._inlineDatepicker(t,a)},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,s,n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,a,s=this._get(n,"appendText"),o=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[o?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),a=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:r,title:r}):r)),t[o?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,a=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},a.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,s,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,a,o){var l,c,u,d,p,h=this._dialogInst;return h||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],s,h)),r(h.settings,a||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,p=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+d,u/2-150+p]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],s,h),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,s);i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,s),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,s);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,s);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,s)}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,i,a){var s,o,l,c,u=this._getInst(n);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):u?"all"===i?e.extend({},u.settings):this._get(u,i):null:(s=i||{},"string"==typeof i&&(s={},s[i]=a),u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(n,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),r(u.settings,s),null!==l&&s.dateFormat!==t&&s.minDate===t&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&s.dateFormat!==t&&s.maxDate===t&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in s&&(s.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(e(n),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u)),void 0)},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,a=e.datepicker._getInst(t.target),s=!0,o=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),r[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,r[0]),n=e.datepicker._get(a,"onSelect"),n?(i=e.datepicker._formatDate(a),n.apply(a.input?a.input[0]:null,[i,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,i,a,s,o,l,c;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(n,"beforeShow"),a=i?i.apply(t,[t,n]):{},a!==!1&&(r(n.settings,a),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each(function(){return s|="fixed"===e(this).css("position"),!s}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),o=e.datepicker._checkOffset(n,o,s),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),n.inline||(l=e.datepicker._get(n,"showAnim"),c=e.datepicker._get(n,"duration"),n.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?n.dpDiv.show(l,e.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,a=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,i=this._getNumberOfMonths(t),r=i[1],s=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-s:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+o?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+a>c&&c>a?Math.abs(a+o):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,a,o=this._curInst;!o||t&&o!==e.data(t,s)||this._datepickerShowing&&(n=this._get(o,"showAnim"),i=this._get(o,"duration"),r=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),i,r):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),a=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(a,n+("M"===i?this._get(a,"showCurrentAtPos"):0),i),this._updateDatepicker(a))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),a=this._getInst(r[0]);a["selected"+("M"===i?"Month":"Year")]=a["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(r)},_selectDay:function(t,n,i,r){var a,s=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(a=this._getInst(s[0]),a.selectedDay=a.currentDay=e("a",r).html(),a.selectedMonth=a.currentMonth=n,a.selectedYear=a.currentYear=i,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),a=this._getInst(r[0]);n=null!=n?n:this._formatDate(a),a.input&&a.input.val(n),this._updateAlternate(a),i=this._get(a,"onSelect"),i?i.apply(a.input?a.input[0]:null,[n,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,a=this._get(t,"altField");a&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(a).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,a,s,o,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,p=(i?i.dayNames:null)||this._defaults.dayNames,h=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,y=!1,D=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;return n&&r++,n},k=function(e){var t=D(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r=new RegExp("^\\d{1,"+i+"}"),a=n.substring(l).match(r);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},b=function(t,i,r){var a=-1,s=e.map(D(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var i=t[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(a=t[0],l+=i.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+l},w=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(y)"'"!==t.charAt(r)||D("'")?w():y=!1;else switch(t.charAt(r)){case"d":v=k("d");break;case"D":b("D",d,p);break;case"o":_=k("o");break;case"m":g=k("m");break;case"M":g=b("M",h,f);break;case"y":m=k("y");break;case"@":o=new Date(k("@")),m=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case"!":o=new Date((k("!")-this._ticksTo1970)/1e4),m=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case"'":D("'")?w():y=!0;break;default:w()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),_>-1)for(g=1,v=_;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(o=this._daylightSavingAdjust(new Date(m,g-1,v)),o.getFullYear()!==m||o.getMonth()+1!==g||o.getDate()!==v)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},u=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",p=!1;if(t)for(i=0;i<e.length;i++)if(p)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):p=!1;else switch(e.charAt(i)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),r,a);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),s,o);break;case"y":d+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":p=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,n){return e.settings[n]!==t?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),a=r,s=this._getFormatConfig(e);try{a=this.parseDate(n,i,s)||r}catch(o){i=t?"":i}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=i?a.getDate():0,e.currentMonth=i?a.getMonth():0,e.currentYear=i?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=r.getFullYear(),s=r.getMonth(),o=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(n);c;){switch(c[2]||"d"){case"d":case"D":o+=parseInt(c[1],10);break;case"w":case"W":o+=7*parseInt(c[1],10);break;case"m":case"M":s+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(a,s));break;case"y":case"Y":a+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(a,s))}c=l.exec(n)}return new Date(a,s,o)},s=null==n||""===n?i:"string"==typeof n?a(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return s=s&&"Invalid Date"===s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,a=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),r===e.selectedMonth&&a===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)
},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,a,s,o,l,c,u,d,p,h,f,m,g,v,_,y,D,k,b,w,M,x,C,A,$,S,T,I,N,E,F,O,P,Y,L,R,H=new Date,K=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),U=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),z=this._get(e,"hideIfNoPrevNext"),j=this._get(e,"navigationAsDateFormat"),B=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),q=this._get(e,"stepMonths"),G=1!==B[0]||1!==B[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-V,et=e.drawYear;if(0>J&&(J+=12,et--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-B[0]*B[1]+1,Z.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(et,J,1))>t;)J--,0>J&&(J=11,et--);for(e.drawMonth=J,e.drawYear=et,n=this._get(e,"prevText"),n=j?this.formatDate(n,this._daylightSavingAdjust(new Date(et,J-q,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,et,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=j?this.formatDate(r,this._daylightSavingAdjust(new Date(et,J+q,1)),this._getFormatConfig(e)):r,a=this._canAdjustMonth(e,1,et,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+r+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+r+"</span></a>",s=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?X:K,s=j?this.formatDate(s,o,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?l:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(U?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),p=this._get(e,"dayNames"),h=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),_=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),D="",b=0;b<B[0];b++){for(w="",this.maxRows=4,M=0;M<B[1];M++){if(x=this._daylightSavingAdjust(new Date(et,J,e.selectedDay)),C=" ui-corner-all",A="",G){if(A+="<div class='ui-datepicker-group",B[1]>1)switch(M){case 0:A+=" ui-datepicker-group-first",C=" ui-corner-"+(U?"right":"left");break;case B[1]-1:A+=" ui-datepicker-group-last",C=" ui-corner-"+(U?"left":"right");break;default:A+=" ui-datepicker-group-middle",C=""}A+="'>"}for(A+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===b?U?a:i:"")+(/all|right/.test(C)&&0===b?U?i:a:"")+this._generateMonthYearHeader(e,J,et,Q,Z,b>0||M>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",$=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",k=0;7>k;k++)S=(k+u)%7,$+="<th"+((k+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[S]+"'>"+h[S]+"</span></th>";for(A+=$+"</tr></thead><tbody>",T=this._getDaysInMonth(et,J),et===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,T)),I=(this._getFirstDayOfMonth(et,J)-u+7)%7,N=Math.ceil((I+T)/7),E=G?this.maxRows>N?this.maxRows:N:N,this.maxRows=E,F=this._daylightSavingAdjust(new Date(et,J,1-I)),O=0;E>O;O++){for(A+="<tr>",P=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",k=0;7>k;k++)Y=g?g.apply(e.input?e.input[0]:null,[F]):[!0,""],L=F.getMonth()!==J,R=L&&!_||!Y[0]||Q&&Q>F||Z&&F>Z,P+="<td class='"+((k+u+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(F.getTime()===x.getTime()&&J===e.selectedMonth&&e._keyEvent||y.getTime()===F.getTime()&&y.getTime()===x.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+Y[1]+(F.getTime()===X.getTime()?" "+this._currentClass:"")+(F.getTime()===K.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!Y[2]?"":" title='"+Y[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===K.getTime()?" ui-state-highlight":"")+(F.getTime()===X.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);A+=P+"</tr>"}J++,J>11&&(J=0,et++),A+="</tbody></table>"+(G?"</div>"+(B[0]>0&&M===B[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=A}D+=w}return D+=c,e._keyEvent=!1,D},_generateMonthYearHeader:function(e,t,n,i,r,a,s,o){var l,c,u,d,p,h,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),_=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",D="";if(a||!g)D+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,D+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=i.getMonth())&&(!c||u<=r.getMonth())&&(D+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+o[u]+"</option>");D+="</select>"}if(_||(y+=D+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),p=(new Date).getFullYear(),h=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?p+parseInt(e,10):parseInt(e,10);return isNaN(t)?p:t},f=h(d[0]),m=Math.max(f,h(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),_&&(y+=(!a&&g&&v?"":"&#xa0;")+D),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,a)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=null,o=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),o=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(o+=i)),(!r||t.getTime()>=r.getTime())&&(!a||t.getTime()<=a.getTime())&&(!s||t.getFullYear()>=s)&&(!o||t.getFullYear()<=o)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"}(jQuery),t.module("Mac").directive("macAffix",["$document","$window",function(e,n){return{link:function(i,r,a){var s,o,l,c,u,d,p,h,f,m;return s={top:0,bottom:0,disabled:!1,classes:"affix affix-top affix-bottom"},u={top:s.top,bottom:s.bottom},o=s.disabled,c=null,f=null,d=null,m=t.element(n),h=function(e,t,n){return null==n&&(n=!1),n&&null==t&&(t=s[e]),null==t||isNaN(+t)?void 0:u[e]=+t},null!=a.macAffixTop&&(h("top",i.$eval(a.macAffixTop),!0),i.$watch(a.macAffixTop,function(e){return h("top",e)})),null!=a.macAffixBottom&&(h("bottom",i.$eval(a.macAffixBottom),!0),i.$watch(a.macAffixBottom,function(e){return h("bottom",e)})),l=function(){var t;return null!=d?d:(r.removeClass(s.classes).addClass("affix"),t=e.height(),d=t-r.outerHeight()-u.bottom)},p=function(){var t,n,i,a,o,d;if(!(r[0].offsetHeight<=0&&r[0].offsetWidth<=0)&&(a=r.offset(),d=m.scrollTop(),o=e.height(),i=r.outerHeight(),t=null!=f&&f>=d?!1:null!=u.bottom&&d>o-i-u.bottom?"bottom":null!=u.top&&d<=u.top?"top":!1,t!==c))return f&&r.css("top",""),c=t,f="bottom"===t?l():null,r.removeClass(s.classes).addClass("affix"+(t?"-"+t:"")),"bottom"===t&&(n=r.offset(),r.css("top",f-n.top)),!0},null!=a.macAffixDisabled&&(o=i.$eval(a.macAffixDisabled)||s.disabled,i.$watch(a.macAffixDisabled,function(e){var t;if(null!=e&&e!==o)return o=e,t=e?"unbind":"bind",m[t]("scroll",p),o?(c=null,f=null,r.css("top","").removeClass(s.classes)):p()})),o||m.bind("scroll",p),i.$on("refresh-mac-affix",function(){var e;return e=r.offset()}),i.$on("$destroy",function(){return m.unbind("scroll",p)})}}}]),t.module("Mac").directive("macAutocomplete",["$animate","$compile","$filter","$http","$parse","$rootScope","$timeout","keys",function(n,i,r,a,s,o,l,c){return{restrict:"EA",template:'<input type="text"/>',transclude:!0,replace:!0,require:"ngModel",link:function(o,u,d,p,h){var f,m,g,v,_,y,D,k,b,w,M,x,C,A,$,S,T,I,N,E,F,O,P,Y;return x=d.macAutocompleteLabel||"name",M=s(x),E=d.macAutocompleteQuery||"q",y=+(d.macAutocompleteDelay||800),b=null!=d.macAutocompleteInside,g=s(d.macAutocompleteUrl),$=s(d.macAutocompleteOnSelect),S=s(d.macAutocompleteOnSuccess),A=s(d.macAutocompleteOnError),O=s(d.macAutocompleteSource),D=s(d.macAutocompleteDisabled),_=[],P=null,w=!1,I=!1,f=o.$new(),f.items=[],f.index=0,f.select=function(e){var t,n;return n=_[e],$(o,{selected:n}),t=f.items[e].label||"",I=!0,null!=d.ngModel&&(p.$setViewValue(t),p.$render()),F()},C=t.element(document.createElement("mac-menu")),C.attr({"ng-class":d.macMenuClass||null,"mac-menu-items":"items","mac-menu-select":"select(index)","mac-menu-index":"index"}),h(f,function(e){return C.append(e)}),i(C)(f),p.$parsers.push(function(e){return!e||D(o)||I?F():(null!=P&&l.cancel(P),y>0?P=l(function(){return N(e)},y):N(e)),I=!1,e}),v=function(){return o.$apply(function(){return F()})},m=function(e){return w||(u.bind("blur",v),C.on("mousedown",function(e){return e.preventDefault()})),w=!0,b?n.enter(C,void 0,u,e):n.enter(C,t.element(document.body),void 0,e)},F=function(){n.leave(C,function(){return f.index=0,f.items.length=0,C[0].style.top="",C[0].style.left="",w=!1,u.unbind("blur",v)})},T=function(){var n,i,r;return i=b?u[0]:document.body,r=e.getComputedStyle(i),n=u.offset(),n.left-=parseInt(r.marginLeft),n.top+=u.outerHeight()-parseInt(r.marginTop),n.minWidth=u.outerWidth(),t.forEach(n,function(e,n){return!isNaN(+e)&&t.isNumber(+e)&&(e=""+e+"px"),C[0].style[n]=e})},Y=function(e){return(null!=e?e.length:void 0)>0?(_=e,f.items=e.map(function(e){return t.isObject(e)?(null==e.value&&(e.value=M(e)||""),null==e.label&&(e.label=M(e)||""),e):{label:e,value:e}}),m(T)):F()},k=function(e,t){var n;return n={method:"GET",url:e,params:{}},n.params[E]=t,a(n).success(function(e,t,n){var i;return i=S(o,{data:e,status:t,headers:n}),null==i&&(i=e.data),Y(i)}).error(function(e,t,n){return A(o,{data:e,status:t,headers:n})})},N=function(e){var n,i;return i=g(o),i?k(i,e):(n=O(o),t.isArray(n)?Y(r("filter")(n,e)):t.isString(n)?k(n,e):t.isFunction(n)?n(e,Y):void 0)},u.bind("keydown",function(e){if(0===f.items.length)return!0;switch(e.which){case c.DOWN:o.$apply(function(){return f.index=(f.index+1)%f.items.length,e.preventDefault()});break;case c.UP:o.$apply(function(){return f.index=(f.index?f.index:f.items.length)-1,e.preventDefault()});break;case c.ENTER:o.$apply(function(){return f.select(f.index),e.preventDefault()});break;case c.ESCAPE:o.$apply(function(){return F(),e.preventDefault()})}return!0}),o.$on("$destroy",function(){return f.$destroy(),F()}),o.$on("reset-mac-autocomplete",function(){return F()})}}}]),t.module("Mac").directive("macCspinner",["$timeout","util",function(n,i){return{restrict:"E",replace:"true",template:'<div class="mac-cspinner"></div>',compile:function(r,a){var s,o,l,c,u,d,p,h,f,m,g,v,_,y,D,k,b,w,M,x,C,A,$,S,T,I;if(!e.HTMLCanvasElement)return console.log("Browser does not support canvas");if(c={width:2,height:5,border:1,radius:4,bars:10,padding:3,speed:100,color:"#2f3035",size:20},g=i.extendAttributes("macCspinner",c,a),null!=a.macCspinnerSize&&(w=!isNaN(+a.macCspinnerSize)&&+a.macCspinnerSize))for(y=w/c.size,T=["width","height","border","radius"],A=0,S=T.length;S>A;A++)v=T[A],g[v]=c[v]*y;for(C=g.width,u=g.height,_=g.border,f=g.radius+u,h=Math.max(C,f),o=Math.ceil(Math.max(h,i.pyth(f,C/2))),o+=g.padding,M=t.element("<canvas></canvas>"),l=M[0].getContext("2d"),k=i.radian(360/g.bars),l.translate(o,o),x=-f,p=-C/2,D=i.hex2rgb(g.color),d=$=0,I=g.bars-1;I>=0?I>=$:$>=I;d=I>=0?++$:--$)m=1-.8/g.bars*d,l.fillStyle="rgba("+D.r+", "+D.g+", "+D.b+", "+m+")",l.beginPath(),l.moveTo(p+_,x),l.arc(p+C-_,x+_,_,i.radian(-90),i.radian(0),!1),l.arc(p+C-_,x+u-_,_,i.radian(0),i.radian(90),!1),l.arc(p+_,x+u-_,_,i.radian(90),i.radian(180),!1),l.arc(p+_,x+_,_,i.radian(-180),i.radian(-90),!1),l.closePath(),l.fill(),l.rotate(k);return s=t.element("<canvas></canvas>"),s.attr({width:2*o,height:2*o}),b=s[0].getContext("2d"),b.translate(o,o),r.append(s),function(e,t,r){var a,s,l,c;return a=null,s=!1,c=function(){return s=!1,null!=a?n.cancel(a):void 0},l=function(){var e,r;if(!s)return s=!0,r=i.radian(360/g.bars),(e=function(i){return null==i&&(i=!1),b.clearRect(-o,-o,2*o,2*o),b.rotate(r),b.drawImage(M[0],-o,-o),s?!i&&t[0].offsetHeight<=0&&t[0].offsetWidth<=0?c():a=n(e,g.speed,!1):void 0})(!0)},null!=r.macCspinnerSpin?e.$watch(r.macCspinnerSpin,function(e){return e&&!s?l():c()}):l(),r.ngShow?e.$watch(r.ngShow,function(e){return e?l():c()}):r.ngHide&&e.$watch(r.ngHide,function(e){return e?c():l()}),e.$on("$destroy",function(){return c()})}}}}]),t.module("Mac").directive("macDatepicker",["$parse","$timeout","util",function(e,t,n){var i;return i={appendText:"",autoSize:!1,changeMonth:!1,changeYear:!1,constrainInputType:!0,currentText:"Today",dateFormat:"mm/dd/yy",defaultDate:null,duration:"normal",firstDay:0,maxDate:null,minDate:null,numberOfMonths:1,showOn:"focus",yearRange:"c-10:c+10"},{restrict:"E",require:"ngModel",replace:!0,template:'<input type="text" class="mac-date-time"/>',link:function(t,r,a,s){var o,l,c,u,d;return u=n.extendAttributes("macDatepicker",i,a),c=e(a.macDatepickerOnSelect),l=e(a.macDatepickerOnClose),o=function(e){var t;if(!e)return s.$setValidity("date",!0),e;try{return $.datepicker.parseDate(u.dateFormat,e),s.$setValidity("date",!0),e}catch(n){return t=n,s.$setValidity("date",!1),void 0}},s.$formatters.push(o),s.$parsers.push(o),u.onSelect=function(e,n){return t.$apply(function(){return"function"==typeof c&&c(t,{date:e,instance:n}),s.$setViewValue(e),s.$render()})},u.onClose=function(e,n){return t.$apply(function(){return"function"==typeof l?l(t,{date:e,instance:n}):void 0})},r.datepicker(u),d=function(e,t){return null!=t?r.datepicker("option",e,t):void 0},null!=a.macDatepickerDefaultDate&&t.$watch(a.macDatepickerDefaultDate,function(e){return d("defaultDate",e)}),null!=a.macDatepickerMaxDate&&t.$watch(a.macDatepickerMaxDate,function(e){return d("maxDate",e)}),null!=a.macDatepickerMinDate?t.$watch(a.macDatepickerMinDate,function(e){return d("minDate",e)}):void 0}}}]);var m,g,v,y,D;for(D=["Enter","Escape","Space","Left","Up","Right","Down"],g=function(e){return t.module("Mac").directive("macKeydown"+e,["$parse","keys",function(t,n){return{restrict:"A",link:function(i,r,a){var s;return s=t(a["macKeydown"+e]),r.bind("keydown",function(t){return t.which===n[""+e.toUpperCase()]?(t.preventDefault(),i.$apply(function(){return s(i,{$event:t})})):void 0})}}}])},v=0,y=D.length;y>v;v++)m=D[v],g(m);t.module("Mac").directive("macPauseTyping",["$parse","$timeout",function(e,t){return{restrict:"A",link:function(n,i,r){var a,s,o;return s=e(r.macPauseTyping),a=n.$eval(r.macPauseTypingDelay)||800,o=null,i.bind("keyup",function(e){return null!=o&&t.cancel(o),o=t(function(){return s(n,{$event:e})},a)})}}}]),t.module("Mac").directive("macWindowResize",["$parse","$window",function(e,n){return{restrict:"A",link:function(i,r,a){var s;return s=function(t){var n;return n=e(a.macWindowResize),i.$apply(function(){return n(i,{$event:t})}),!0},t.element(n).bind("resize",s),i.$on("destroy",function(){return t.element(n).unbind("resize",s)})}}}]),t.module("Mac").directive("macFocusOnEvent",["$timeout",function(t){return function(n,i,r){return n.$on(r.macFocusOnEvent,function(){return t(function(){var t,n;return i.focus(),r.macFocusOnEventScroll?(t=e.scrollX,n=e.scrollY,e.scrollTo(t,n)):void 0},0,!1)})}}]),t.module("Mac").factory("keys",function(){return{CANCEL:3,HELP:6,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,RETURN:13,SHIFT:16,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,SEMICOLON:59,EQUALS:61,COMMAND:91,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,ADD:107,SEPARATOR:108,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NUM_LOCK:144,SCROLL_LOCK:145,COMMA:188,PERIOD:190,SLASH:191,BACK_QUOTE:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,QUOTE:222,META:224}}),t.module("Mac").directive("macMenu",[function(){return{restrict:"EA",replace:!0,template:'<div ng-style="style" class="mac-menu"><ul><li mac-menu-transclude="mac-menu-transclude" ng-repeat="item in items" ng-click="selectItem($index)" ng-class="{\'active\': $index == index}" ng-mouseenter="setIndex($index)" class="mac-menu-item"></li></ul></div>',transclude:!0,controller:t.noop,scope:{items:"=macMenuItems",style:"=macMenuStyle",select:"&macMenuSelect",pIndex:"=macMenuIndex"},link:function(e,t,n){return e.selectItem=function(t){return e.select({index:t})},e.setIndex=function(t){return e.index=t,null!=n.macMenuIndex?e.pIndex=parseInt(t):void 0},null!=n.macMenuIndex&&e.$watch("pIndex",function(t){return e.index=parseInt(t)}),e.$watch("items.length",function(e){return e?n.$addClass("visible"):n.$removeClass("visible")})}}}]).directive("macMenuTransclude",["$compile",function(e){return{link:function(t,n,i,r,a){return a(t,function(i){return n.empty(),0===i.length&&(i=e("<span>{{item.label}}</span>")(t)),n.append(i)})}}}]),t.module("Mac").directive("macModal",["$parse","modal","modalViews","util",function(e,n,i,r){return{restrict:"E",template:n.modalTemplate,replace:!0,transclude:!0,link:function(a,s,o,l,c){var u,d,p,h,f,m,g,v;for(c(a,function(e){return t.element(s[0].getElementsByClassName("mac-modal-content-wrapper")).replaceWith(e)}),p=r.extendAttributes("macModal",i.defaults,o),h=null,p.overlayClose&&s.on("click",function(e){return t.element(e.target).hasClass("mac-modal-overlay")?a.$apply(function(){return n.hide()}):void 0}),v=["beforeShow","afterShow","beforeHide","afterHide","open"],m=0,g=v.length;g>m;m++)u=v[m],d="macModal"+r.capitalize(u),p[u]=e(o[d])||t.noop;return f=function(e){return null!=e&&e?(h=e,n.register(e,s,p)):void 0},o.id?f(o.id):o.$observe("macModal",function(e){return f(e)}),a.$on("$destroy",function(){return h?n.unregister(h):void 0})}}}]).directive("macModal",["$parse","modal",function(e,t){return{restrict:"A",link:function(n,i,r){r.macModal&&i.bind("click",function(){return n.$apply(function(){var i;return i=e(r.macModalData)(n)||{},t.show(r.macModal,{data:i,scope:n})})})}}}]).directive("macModalClose",["modal",function(e){return{restrict:"A",link:function(t,n){return n.bind("click",function(){return t.$apply(function(){return e.hide()})})}}}]),t.module("Mac").directive("macPlaceholder",function(){return{restrict:"A",link:function(e,t,n){return e.$watch(n.macPlaceholder,function(e){return n.$set("placeholder",e)})}}});var k=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("Mac").directive("macPopover",["$timeout","popover","util","popoverViews",function(e,t,n,i){return{restrict:"A",link:function(r,a,s){var o,l,c,u,d,p,h,f;return h=n.extendAttributes("macPopover",i.defaults,s),u=s.macPopoverExclude||"",d=u?u.split(","):[],c=null,l=null,o=function(){return null!=c&&e.cancel(c),null!=l?e.cancel(l):void 0},f=function(n,i){return null==i&&(i=0),o(),c=e(function(){var e,i;return e=t.last(),null!=e&&(!d.length||(i=e.id,k.call(d,i)>=0)||e.id===n)&&(t.hide(),a[0]===e.element[0])?!0:(h.scope=r,t.show(n,a,h))},i),!0},p=function(n,i){return null==i&&(i=0),o(),l=e(function(){return t.hide(n)},i)},s.$observe("macPopover",function(e){var t,n;if(e)return"click"===h.trigger?a.bind("click",function(){return f(e,0)}):(n="focus"===h.trigger?"focusin":"mouseenter",t="focus"===h.trigger?"focusout":"mouseleave",a.bind(n,function(){return f(e,400)}),a.bind(t,function(){return p(a,500)}))})}}}]).directive("macPopover",["popover","popoverViews","util",function(e,n,i){return{restrict:"E",compile:function(r,a){var s;if(!a.id)throw Error("macPopover: Missing id");return s=i.extendAttributes("macPopover",n.popoverDefaults,a),t.extend(s,{template:r.html()}),r.replaceWith(document.createComment("macPopover: "+a.id)),function(t,n,i){return i.$observe("id",function(t){return e.register(t,s)})}}}}]).directive("macPopoverFillContent",["$compile",function(e){return{restrict:"A",link:function(t,n){return n.html(t.macPopoverTemplate),e(n.contents())(t)}}}]),t.module("Mac").directive("macScrollSpy",["$window","scrollSpy","scrollSpyDefaults","util",function(e,n,i,r){return{link:function(a,s,o){var l,c;return l=r.extendAttributes("macScrollSpy",i,o),c="BODY"===s[0].tagName?t.element(e):s,c.bind("scroll",function(){var e,t,i,r,o,u,d;if(o=c.scrollTop()+l.offset,r=this.scrollHeight||s[0].scrollHeight,i=r-c.height(),!n.registered.length)return!0;if(o>=i)return n.setActive(n.last());for(t=u=0,d=n.registered.length-1;d>=0?d>=u:u>=d;t=d>=0?++u:--u)if(e=n.registered,n.active.id!==e[t].id&&o>=e[t].top&&(!e[t+1]||o<=e[t+1].top))return a.$apply(function(){return n.setActive(e[t])}),!0})}}}]).directive("macScrollSpyAnchor",["scrollSpy",function(e){return{link:function(t,n,i){var r,a,s,o;if(r=i.id||i.macScrollSpyAnchor,s=!1,!r)throw new Error("Missing scroll spy anchor id");return o=function(){return e.register(r,n),s||t.$on("$destroy",function(){return e.unregister(r)}),s=!0},t.$on("refresh-scroll-spy",o),/{{(.*)}}/.test(r)?(a=i.id?"id":"macScrollSpyAnchor",i.$observe(a,function(e){return null!=e&&e?(r=e,o()):void 0})):o()}}}]).directive("macScrollSpyTarget",["scrollSpy",function(e){return{link:function(t,n,i){var r,a,s,o;if(o=i.macScrollSpyTarget,r=i.macScrollSpyTargetClass||"active",s=!1,!o)throw new Error("Missing scroll spy target name");return a=function(i){var a;if(i)return a=function(e){var t;return t=i===e.id?"addClass":"removeClass",n[t](r)},null!=e.active&&a(e.active),s?void 0:(e.addListener(a),t.$on("$destroy",function(){return e.removeListener(a)}))},/{{(.*)}}/.test(o)?i.$observe("macScrollSpyTarget",function(e){return a(e)}):a(o)}}}]),t.module("Mac").directive("macSpinner",["util",function(e){return{restrict:"E",replace:!0,template:'<div class="mac-spinner"></div>',compile:function(n){var i,r,a,s,o,l,c,u,d,p;for(l=["webkit","Moz","ms","O"],d=function(t,n){var i,r,a;for(n=e.capitalize(n),r=0,a=l.length;a>r;r++)if(i=l[r],null!=t.style[i+n])return i+n;return n},i=d(n[0],"animation"),u=d(n[0],"transform"),o=p=0;9>=p;o=++p)s=.1*o-1+!o,a=36*o,c={},r=t.element('<div class="bar"></div>'),c[i]="fade 1s linear infinite "+s+"s",c[u]="rotate("+a+"deg) translate(0, 130%)",r.css(c),n.append(r);return function(e,n,i){var r,a,s;return a={size:16,zIndex:"inherit",color:"#2f3035"},r=t.element(n[0].getElementsByClassName("bar")),s=function(e){return r.css({height:.32*e+"px",left:.445*e+"px",top:.37*e+"px",width:.13*e+"px",borderRadius:.32*e*2+"px",position:"absolute"}),!isNaN(+e)&&t.isNumber(+e)&&(e=""+e+"px"),n.css({height:e,width:e})},null!=i.macSpinnerSize?i.$observe("macSpinnerSize",function(e){return null!=e&&e?s(e):void 0}):s(a.size),i.$observe("macSpinnerZIndex",function(e){return null!=e&&e?n.css("z-index",e):void 0}),null!=i.macSpinnerColor?i.$observe("macSpinnerColor",function(e){return null!=e&&e?r.css("background",e):void 0}):r.css("background",a.color)}}}}]);var k=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("Mac").directive("macTagAutocomplete",["$parse","$timeout","keys","util",function(e,n,i,r){return{restrict:"E",template:'<div ng-click="focusTextInput()" class="mac-tag-autocomplete"><ul class="mac-tag-list"><li ng-repeat="tag in selected" class="mac-tag mac-label"><div ng-click="selected.splice($index, 1)" class="mac-tag-close">&times;</div><span class="tag-label">{{getTagLabel(tag)}}</span></li><li ng-class="{\'fullwidth\': !selected.length}" class="mac-tag mac-input-tag"><mac-autocomplete ng-model="textInput" mac-autocomplete-disabled="disabled" mac-autocomplete-on-select="onSelect(selected)" mac-autocomplete-on-success="onSuccess(data)" mac-placeholder="autocompletePlaceholder" ng-keydown="onKeyDown($event)" class="text-input mac-autocomplete"></mac-autocomplete></li></ul></div>',replace:!0,priority:800,scope:{url:"=macTagAutocompleteUrl",placeholder:"=macTagAutocompletePlaceholder",selected:"=macTagAutocompleteSelected",source:"=macTagAutocompleteSource",disabled:"=macTagAutocompleteDisabled",model:"=macTagAutocompleteModel",onEnter:"&macTagAutocompleteOnEnter",onKeydown:"&macTagAutocompleteOnKeydown"},compile:function(a,s){var o,l,c,u,d,p,h,f,m;return m=s.macTagAutocompleteValue,null==m&&(m="id"),f=e(m),u=s.macTagAutocompleteLabel,null==u&&(u="name"),c=e(u),d=s.macTagAutocompleteQuery||"q",l=+s.macTagAutocompleteDelay||800,h=!1,p=t.element(a[0].getElementsByClassName("mac-autocomplete")),o={"mac-autocomplete-label":u,"mac-autocomplete-query":d,"mac-autocomplete-delay":l},null!=s.macTagAutocompleteUrl?o["mac-autocomplete-url"]="url":(h=null!=s.macTagAutocompleteSource)&&(o["mac-autocomplete-source"]="autocompleteSource"),p.attr(o),function(a,s,o){var l,d;return a.textInput="",a.autocompleteSource=t.isArray(a.source)?[]:a.source,null!=o.macTagAutocompleteModel&&(a.$watch("textInput",function(e){return a.model=e}),a.$watch("model",function(e){return a.textInput=e})),a.focusTextInput=function(){var e;return e=s[0].getElementsByClassName("mac-autocomplete"),e[0].focus()},a.getTagLabel=function(e){return u?c(e):e},n(function(){var n,i,l,c,u,d,h,f;if(l=o.macTagAutocompleteEvents){for(p=t.element(s[0].getElementsByClassName("text-input")),h=l.split(","),f=[],u=0,d=h.length;d>u;u++)c=h[u],c=r.trim(c),n=r.capitalize(c),i=o["macTagAutocompleteOn"+n],i&&"keydown"!==c&&f.push(function(t,n){return p.bind(t,function(t){var i;return i=e(n),a.$apply(function(){return i(a.$parent,{$event:t,item:a.textInput})})})}(c,i));return f}},0,!1),l=function(){var e,n,i,r,s;return a.autocompletePlaceholder=(null!=(s=a.selected)?s.length:void 0)?"":a.placeholder,h&&t.isArray(a.source)?(r=function(){var e,t,i,r;for(i=a.source||[],r=[],e=0,t=i.length;t>e;e++)n=i[e],r.push(f(n));return r}(),i=function(){var e,t,i,r;for(i=a.selected||[],r=[],e=0,t=i.length;t>e;e++)n=i[e],r.push(f(n));return r}(),e=function(){var e,t,a;for(a=[],e=0,t=r.length;t>e;e++)n=r[e],k.call(i,n)<0&&a.push(n);return a}(),a.autocompleteSource=function(){var t,i,r,s,o;for(r=a.source||[],o=[],t=0,i=r.length;i>t;t++)n=r[t],s=f(n),k.call(e,s)>=0&&o.push(n);return o}()):(a.autocompleteSource=a.source,void 0)},h&&(d=t.isArray(a.source)?"$watchCollection":"$watch",a[d]("source",l)),a.$watchCollection("selected",l),a.onKeyDown=function(e){var t,n;switch(t=e.which||e.keyCode){case i.BACKSPACE:a.textInput||"function"==typeof(n=a.selected).pop&&n.pop();break;case i.ENTER:a.textInput.length>0&&a.disabled&&a.onSelect(a.textInput)}return null!=o.macTagAutocompleteOnKeydown&&"function"==typeof a.onKeydown&&a.onKeydown({$event:e,value:a.textInput}),!0},a.onSuccess=function(e){var t,n;return t=function(){var e,t,i,r;for(i=a.selected||[],r=[],e=0,t=i.length;t>e;e++)n=i[e],r.push(f(n));return r}(),function(){var i,r,a,s,o;for(a=e.data,o=[],i=0,r=a.length;r>i;i++)n=a[i],s=f(n)||n,k.call(t,s)<0&&o.push(n);return o}()},a.onSelect=function(e){return null!=o.macTagAutocompleteOnEnter&&(e=a.onEnter({item:e})),e&&a.selected.push(e),n(function(){return a.textInput=""},0)},a.$on("mac-tag-autocomplete-clear-input",function(){return a.textInput=""})}}}}]),t.module("Mac").directive("macTime",["$filter","$timeout","keys","util",function(e,t,n,i){var r;return r={"default":"12:00 AM"},{restrict:"E",require:"ngModel",replace:!0,template:'<input type="text" maxlength="8" class="mac-date-time"/>',link:function(a,s,o,l){var c,u,d,p,h,f,m,g,v,_,y,D,k,b,w,M,x;return h=i.extendAttributes("macTime",r,o),k=null,o.placeholder||o.$set("placeholder","--:--"),b=function(e){return!e||i.timeRegex.exec(e)?(l.$setValidity("time",!0),e):(l.$setValidity("time",!1),void 0)
},l.$formatters.push(b),l.$parsers.push(b),(p=function(){var e;return e=(new Date).toDateString(),k=new Date(e+" "+h["default"]),isNaN(k.getTime())?k=new Date(e+" "+r["default"]):void 0})(),c=function(){var e;switch(e=s[0].selectionStart,!1){case!(e>=0&&3>e):return"hour";case!(e>=3&&6>e):return"minute";case!(e>=6&&9>e):return"meridian"}},y=function(e,n){return t(function(){return s[0].setSelectionRange(e,n)},0,!1)},f=function(){return y(0,2)},g=function(){return y(3,5)},m=function(){return y(6,8)},v=function(){switch(c()){case"hour":return g();case"minute":case"meridian":return m()}},_=function(){switch(c()){case"hour":case"minute":return f();case"meridian":return g()}},D=function(e){var t;return t=k.getHours(),t>=12&&"AM"===e&&(t-=12),12>t&&"PM"===e&&(t+=12),k.setHours(t)},w=function(){var e;return e=k.getHours(),k.setHours((e+12)%24)},u=function(e){return k.setHours(k.getHours()+e)},d=function(e){return k.setMinutes(k.getMinutes()+e)},M=function(){var t;return t=e("date")(k.getTime(),"hh:mm a"),t!==l.$viewValue?(l.$setViewValue(t),l.$render()):void 0},x=function(){var e,t,n,r;return(r=i.timeRegex.exec(l.$modelValue))?(e=+r[1],n=+r[2],t=r[3],"PM"===t&&12!==e&&(e+=12),"AM"===t&&12===e&&(e=0),k.setHours(e,n)):void 0},s.on("blur",function(){return a.$apply(function(){return M()})}),s.on("click",function(){return a.$apply(function(){switch(x(),M(),c()){case"hour":return f();case"minute":return g();case"meridian":return m()}})}),s.on("keydown",function(e){var t;return t=e.which,t!==n.UP&&t!==n.DOWN&&t!==n.LEFT&&t!==n.RIGHT&&t!==n.A&&t!==n.P?!0:(e.preventDefault(),a.$apply(function(){var e,i;switch(t){case n.UP:case n.DOWN:switch(e=t===n.UP?1:-1,c()){case"hour":u(e),f();break;case"minute":d(e),g();break;case"meridian":w(),m()}return M();case n.LEFT:case n.RIGHT:switch(t){case n.LEFT:_();break;case n.RIGHT:v()}return M();case n.A:case n.P:switch(i="meridian"===c(),!1){case!(i&&t===n.A):D("AM");break;case!(i&&t===n.P):D("PM")}return M(),m()}}))}),s.on("keyup",function(e){var t;return t=e.which,n.NUMPAD0<=t&&t<=n.NUMPAD9||n.ZERO<=t&&t<=n.NINE||e.preventDefault(),a.$apply(function(){return x()})})}}}]),t.module("Mac").directive("macTooltip",["$timeout","util",function(e,n){return{restrict:"A",link:function(i,r,a){var s,o,l,c,u,d,p,h,f;return f=null,p="",l=!1,o=!1,s={direction:"top",trigger:"hover",inside:!1},c=n.extendAttributes("macTooltip",s,a),d=function(){var e,n,i,a;if(o||!p)return!0;switch(i=c.inside?r:t.element(document.body),u(0),f=t.element('<div class="mac-tooltip '+c.direction+'"><div class="tooltip-message">'+p+"</div></div>"),i.append(f),n=c.inside?{top:0,left:0}:r.offset(),e={width:r.outerWidth(),height:r.outerHeight()},a={width:f.outerWidth(),height:f.outerHeight()},c.direction){case"bottom":case"top":n.left+=e.width/2-a.width/2;break;case"left":case"right":n.top+=e.height/2-a.height/2}switch(c.direction){case"bottom":n.top+=e.height;break;case"top":n.top-=a.height;break;case"left":n.left-=a.width;break;case"right":n.left+=e.width}return n.top=Math.max(0,n.top),n.left=Math.max(0,n.left),t.forEach(n,function(e,n){return!isNaN(+e)&&t.isNumber(+e)&&(e=""+e+"px"),f.css(n,e)}),f.addClass("visible"),!0},u=function(t){return null==t&&(t=100),null!=f&&(f.removeClass("visible"),e(function(){return null!=f&&f.remove(),f=null},t,!1)),!0},h=function(){return null!=f?u():d()},a.$observe("macTooltip",function(e){var t;if(null!=e&&(p=e,!l)){if("hover"!==(t=c.trigger)&&"click"!==t)throw"Invalid trigger";switch(c.trigger){case"click":r.bind("click",h);break;case"hover":r.bind("mouseenter",d),r.bind("mouseleave click",function(){return u()})}return l=!0}}),null!=a.macTooltipDisabled&&i.$watch(a.macTooltipDisabled,function(e){return o=e}),i.$on("$destroy",function(){return null!=f?u(0):void 0})}}}]),t.module("Mac").filter("boolean",function(){return function(e,t,n){return null==t&&(t="true"),null==n&&(n="false"),e?t:n}}),t.module("Mac").filter("true",function(){return function(e,t){return null==t&&(t="true"),e?t:""}}),t.module("Mac").filter("false",function(){return function(e,t){return null==t&&(t="false"),e?"":t}}),t.module("Mac").filter("list",[function(){return function(e,t){return null==t&&(t=", "),e.join(t)}}]),t.module("Mac").filter("pluralize",["util",function(e){return function(t,n,i){return null==i&&(i=!0),e.pluralize(t,n,i)}}]),t.module("Mac").filter("timestamp",["util",function(e){var t;return t=function(t,n){return n=e.pluralize(n,t),""+t+" "+n+" ago"},function(e){var n,i,r,a,s,o,l,c;return e=+e,n=Math.round(Date.now()/1e3),o=n-e,45>o?"just now":120>o?"about a minute ago":(c=Math.floor(o/31536e3),c>0?t(c,"year"):(s=Math.floor(o/2678400),s>0?t(s,"month"):(l=Math.floor(o/604800),l>0?t(l,"week"):(i=Math.floor(o/86400),i>0?t(i,"day"):(r=Math.floor(o/3600),r>0?t(r,"hour"):(a=Math.floor(o/60),a>0?t(a,"min"):""+o+" seconds ago"))))))}}]);var b=[].slice;t.module("Mac").filter("underscoreString",function(){return function(){var e,t,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?b.call(arguments,2):[],t.unshift(n),_.string[e].apply(this,t)}}),t.module("Mac").service("modal",["$rootScope","$animate","$templateCache","$compile","$http","$controller","modalViews","keys",function(n,i,r,a,s,o,l,u){return{registered:l.registered,waiting:null,opened:null,modalTemplate:'<div class="mac-modal-overlay hide">\n  <div class="mac-modal">\n    <a mac-modal-close class="mac-close-modal"></a>\n    <div class="mac-modal-content-wrapper"></div>\n  </div>\n</div>',show:function(e,l){var u,d,p,h,f,m,g;if(null==l&&(l={}),null!=this.registered[e]&&null!=this.opened)return this.hide();if(null==this.registered[e])return this.waiting={id:e,options:l};if(u=this.registered[e],d=u.options,m={},t.extend(m,d,l),f=function(t){return function(r){return m.beforeShow(r.scope()),i.removeClass(r,"hide",function(){return i.addClass(r,"visible",function(){return t.opened={id:e,element:r,options:m},t.resize(t.opened),t.bindingEvents(),m.open(r.scope()),m.afterShow(r.scope()),n.$broadcast("modalWasShown",e),t.clearWaiting()})})}}(this),null!=m.moduleMethod){if(h=function(r){return function(s){var l,u,d;return c(m.scope)?u=m.scope:(u=n.$new(!0),t.isObject(m.scope)&&t.extend(u,m.scope)),t.extend(m.attributes,{id:e}),l=t.element(r.modalTemplate).attr(m.attributes),d=t.element(l[0].getElementsByClassName("mac-modal-content-wrapper")),d.html(s),m.overlayClose&&l.bind("click",function(e){return t.element(e.target).hasClass("mac-modal-overlay")?u.$apply(function(){return r.hide()}):void 0}),m.controller&&o(m.controller,{$scope:u,$element:l,macModalOptions:m}),i.enter(l,t.element(document.body)),a(l)(u),f(l)}}(this),p=m.templateUrl)return g=r.get(p),g?h(g):s.get(p).then(function(e){return r.put(p,e.data),h(e.data)},function(){throw Error("Failed to load template: "+p)});if(g=m.template)return h(g)}else if(null!=u.element)return f(u.element)},resize:function(n){var i,r,a,s,o,l;return null==n&&(n=this.opened),null!=n&&(r=n.element,o=n.options,o.position)?(s=t.element(r[0].getElementsByClassName("mac-modal")).attr("style",""),a=s.outerHeight(),l=s.outerWidth(),i=t.element(e).height()>a?{marginTop:-a/2}:{top:o.topOffset},i.marginLeft=-l/2,t.forEach(i,function(e,n){return!isNaN(+e)&&t.isNumber(+e)&&(e=""+e+"px"),s.css(n,e)})):void 0},hide:function(e){var t,r,a,s;if(null!=this.opened)return s=this.opened,r=s.id,a=s.options,t=s.element,a.beforeHide(t.scope()),i.removeClass(t,"visible",function(s){return function(){return s.bindingEvents("unbind"),s.opened=null,a.moduleMethod?(c(a.scope)||t.scope().$destroy(),i.leave(t)):i.addClass(t,"hide"),a.afterHide(t.scope()),n.$broadcast("modalWasHidden",r),e&&e()}}(this))},bindingEvents:function(n){var i,r,a;return null==n&&(n="bind"),"bind"!==n&&"unbind"!==n||null==this.opened?void 0:(i=function(e){return function(t){return t.which===u.ESCAPE?e.hide():void 0}}(this),a=function(e){return function(){return e.resize()}}(this),r=this.opened.options,r.keyboard&&t.element(document)[n]("keydown",i),r.resize?t.element(e)[n]("resize",a):void 0)},register:function(e,n,i){var r;if(null!=this.registered[e])throw new Error("Modal "+e+" already registered");return r={},t.extend(r,l.defaults,i),this.registered[e]={id:e,element:n,options:r},null!=this.waiting&&this.waiting.id===e?this.show(e,this.waiting.options):void 0},unregister:function(e){var t;if(null==this.registered[e])throw new Error("Modal "+e+" is not registered");return(null!=(t=this.opened)?t.id:void 0)===e&&this.hide(),this.clearWaiting(e),delete this.registered[e]},clearWaiting:function(e){var t;if(null==e||(null!=(t=this.waiting)?t.id:void 0)===e)return this.waiting=null}}}]).provider("modalViews",function(){return this.registered={},this.defaults={keyboard:!1,overlayClose:!1,resize:!0,position:!0,open:t.noop,topOffset:20,attributes:{},beforeShow:t.noop,afterShow:t.noop,beforeHide:t.noop,afterHide:t.noop},this.$get=function(){return this},this}).config(["modalViewsProvider",function(e){return t.module("Mac").modal=function(n,i){var r;return null==e.registered[n]?(r={},t.extend(r,e.defaults,i,{moduleMethod:!0}),e.registered[n]={id:n,options:r}):void 0}}]),t.module("Mac").provider("popoverViews",function(){return this.registered={},this.defaults={fixed:!1,childPopover:!1,offsetY:0,offsetX:0,trigger:"click"},this.popoverDefaults={footer:!1,header:!1,title:"",direction:"above left"},this.template='<div class="mac-popover" ng-class="macPopoverClasses">\n  <div class="tip"></div>\n  <div class="popover-header">\n    <div class="title">{{macPopoverTitle}}</div>\n  </div>\n  <div mac-popover-fill-content></div>\n</div>',this.$get=function(){return this},this}).service("popover",["$animate","$compile","$controller","$http","$rootScope","$templateCache","$timeout","popoverViews",function(n,i,r,a,s,o,l,u){var d;return d={popoverList:[],registered:u.registered,last:function(){return this.popoverList[this.popoverList.length-1]},register:function(e,t){var n;return(n=null!=this.registered[e])||(this.registered[e]=t),!n},unregister:function(e){var t;return(t=null!=this.registered[e])&&delete this.registered[e],t},add:function(e,t,n,i){var r;return r={id:e,popover:t,element:n,options:i},this.popoverList.push(r),r},pop:function(){return this.popoverList.pop()},show:function(e,l,p){var h,f;return null==p&&(p={}),(f=this.registered[e])?(h=function(){var h,m,g;return m=function(a){var o,h,m;return c(p.scope)?m=p.scope.$new():(m=s.$new(!0),t.isObject(p.scope)&&t.extend(m,p.scope)),f.refreshOn&&m.$on(f.refreshOn,function(){return d.resize(e)}),f.controller&&r(f.controller,{$scope:m}),t.extend(m,{macPopoverClasses:{footer:f.footer||!1,header:f.header||!!f.title||!1,fixed:f.fixed||!1},macPopoverTitle:f.title||"",macPopoverTemplate:a}),o=i(u.template)(m),o.attr({id:e,direction:f.direction||"below left"}),h=d.add(e,o,l,p),n.addClass(l,"active"),s.$broadcast("popoverWasShown",e),n.enter(o,t.element(document.body),null,function(){return d.resize(h)})},(g=f.template)?m(g):(h=f.templateUrl)?(g=o.get(h),g?m(g):a.get(h).then(function(e){return o.put(h,e.data),m(e.data)},function(){throw new Error("Failed to load template: #{path}")})):void 0},d.popoverList.length&&!p.childPopover?d.hide(h):h(),!0):!1},getById:function(e,t){var n,i,r,a,s;for(s=this.popoverList,r=0,a=s.length;a>r;r++)if(n=s[r],i=null==t||n.element===t,n.id===e&&i)return n},resize:function(n){var i,r,a,s,o,l,c,u,p,h,f,m,g,v,_,y;return t.isString(n)&&(n=d.getById(n)),null!=n?(s=n.popover,m=n.element,p=n.options,i=t.element(e),u=m.offset(),p.fixed&&(u.top=m.position().top),f={height:m.outerHeight(),width:m.outerWidth()},a={height:s.outerHeight(),width:s.outerWidth()},v=0,l=0,h=(s.attr("direction")||"top left").trim(),g=function(e){var n,i;return null==e&&(e=0),n=t.element(s[0].getElementsByClassName("tip")),v-=e,i=+n.css("margin-top").replace("px",""),n.css("margin-top",i+e)},y=function(){switch(h){case"above left":return v=-(a.height+10),l=-25+f.width/2;case"above right":return v=-(a.height+10),l=25+f.width/2-a.width;case"below left":return v=f.height+10,l=-25+f.width/2;case"below right":return v=f.height+10,l=25+f.width/2-a.width;case"middle right":return v=f.height/2-a.height/2,l=f.width+10;case"middle left":return v=f.height/2-a.height/2,l=-(a.width+10)}},y(),_=p.fixed?0:i.scrollTop(),c=p.fixed?0:i.scrollLeft(),r={},-1===h.indexOf("middle")?u.top+v-_<0?r={remove:"above",add:"below"}:u.top+v+a.height-_>i.height()&&(r={remove:"below",add:"above"}):(o=u.top+v-_)<0?g(o):(o=u.top+v+s.outerHeight()-_-i.height())>0&&g(o),r.remove&&r.add&&(h=h.replace(r.remove,r.add)),r={},u.left+l-c<0?r={remove:"right",add:"left"}:u.left+l+s.outerWidth()-c>i.width()&&(r={remove:"left",add:"right"}),r.remove&&r.add&&(h=h.replace(r.remove,r.add)),y(),u.top+=v,u.left+=l,null!=p.offsetX&&(u.left+=p.offsetX),null!=p.offsetY&&(u.top+=p.offsetY),t.forEach(u,function(e,t){return isNaN(+e)||(e=""+e+"px"),s.css(t,e)}),s.addClass("visible "+h)):void 0},hide:function(e,i){var r,a,o,l,c,u,d;if(!this.popoverList.length)return"function"==typeof i?i():void 0;if(t.isFunction(e)&&(i=e,e=null),null!=e){for(r=t.isString(e)?function(t){return t.id===e}:t.isElement(e)?function(t){return t.element===e}:void 0,o=-1,a=u=d=this.popoverList.length-1;u>=0;a=u+=-1)if(r(this.popoverList[a])){l=this.popoverList[a],o=a;break}o>-1&&this.popoverList.splice(o,1)}else l=this.pop();return null!=l?(s.$broadcast("popoverBeforeHide",l.id),c=l.popover.scope(),n.leave(l.popover,function(){return n.removeClass(l.element,"active"),s.$broadcast("popoverWasHidden",l.id),c.$destroy(),"function"==typeof i?i():void 0})):void 0},hideAll:function(){for(;this.popoverList.length;)this.hide()}}}]).config(["popoverViewsProvider",function(e){return t.module("Mac").popover=function(n,i){var r;return null==e.registered[n]?(r={},t.extend(r,e.popoverDefaults,i,{id:n}),e.registered[n]=r):void 0}}]),t.module("Mac").service("scrollSpy",[function(){return{registered:[],active:{},listeners:[],register:function(e,t){var n,i,r,a,s,o,l;for(r=!1,a=t.offset().top,l=this.registered,i=s=0,o=l.length;o>s;i=++s)if(n=l[i],n.id===e){this.registered[i]={id:e,element:t,top:a},r=!0;break}return r||this.registered.push({id:e,element:t,top:a}),this.registered.sort(function(e,t){return e.top>t.top?1:e.top<t.top?-1:0})},unregister:function(e){var t,n,i,r,a,s,o;for(a=this.registered,o=[],n=i=0,r=a.length;r>i;n=++i)if(t=a[n],t.id===e){[].splice.apply(this.registered,[n,n-n+1].concat(s=[])),s;break}return o},last:function(){return this.registered[this.registered.length-1]},setActive:function(e){var t,n,i,r,a;for(this.active=e,r=this.listeners,a=[],n=0,i=r.length;i>n;n++)t=r[n],a.push(t(e));return a},addListener:function(e){return this.listeners.push(e)},removeListener:function(e){var t,n;return t=this.listeners.indexOf(e),-1!==t?([].splice.apply(this.listeners,[t,t-t+1].concat(n=[])),n):void 0}}}]).constant("scrollSpyDefaults",{offset:0});var w={}.hasOwnProperty;t.module("Mac.Util",[]).factory("util",["$filter",function(e){return{_inflectionConstants:{uncountables:["sheep","fish","moose","series","species","money","rice","information","info","equipment","min"],irregulars:{child:"children",man:"men",woman:"women",person:"people",ox:"oxen",goose:"geese"},pluralizers:[[/(quiz)$/i,"$1zes"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)(ix|ex)$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/x$/i,"xes"],[/s$/i,"s"],[/$/,"s"]]},pluralize:function(n,i,r){var a,s,o,l,c,u,d,p,h,f,m,g;if(null==n&&(n=""),null==r&&(r=!1),!t.isString(n)||0===this.trim(n).length)return n;if(r&&isNaN(+i))return"";if(null==i&&(i=2),g=this._inflectionConstants,d=g.pluralizers,p=g.uncountables,a=g.irregulars,h=n.split(/\s/).pop(),s=h.toUpperCase()===h,o=h.toLowerCase(),c=1===i||p.indexOf(o)>=0?h:null,null==c&&null!=a[o]&&(c=a[o]),null==c)for(f=0,m=d.length;m>f;f++)if(u=d[f],u[0].test(o)){c=h.replace(u[0],u[1]);break}return c||(c=h),s&&(c=c.toUpperCase()),l=n.slice(0,-h.length)+c,r?""+e("number")(i)+" "+l:l},trim:function(e){var t;return t=String(e)||"",null!=String.prototype.trim?t.trim():t.replace(/^\s+|\s+$/gm,"")},capitalize:function(e){var t;return t=String(e)||"",t.charAt(0).toUpperCase()+t.substring(1)},uncapitalize:function(e){var t;return t=String(e)||"",t.charAt(0).toLowerCase()+t.substring(1)},toCamelCase:function(e){return null==e&&(e=""),this.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t.toUpperCase()})},toSnakeCase:function(e){return null==e&&(e=""),this.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},convertKeysToCamelCase:function(e){var t,n,i;n={};for(t in e)w.call(e,t)&&(i=e[t],t=this.toCamelCase(t),"object"==typeof i&&(null!=i?i.constructor:void 0)!==Array&&(i=this.convertKeysToCamelCase(i)),n[t]=i);return n},convertKeysToSnakeCase:function(e){var t,n,i;n={};for(t in e)w.call(e,t)&&(i=e[t],t=this.toSnakeCase(t),"object"==typeof i&&(null!=i?i.constructor:void 0)!==Array&&(i=this.convertKeysToSnakeCase(i)),n[t]=i);return n},pyth:function(e,t){return Math.sqrt(e*e+t*t)},degrees:function(e){return 180*e/Math.PI},radian:function(e){return e*Math.PI/180},hex2rgb:function(e){var t,n,i;0===e.indexOf("#")&&(e=e.substring(1)),e=e.toLowerCase(),n={},3===e.length?(n.r=e.charAt(0)+e.charAt(0),n.g=e.charAt(1)+e.charAt(1),n.b=e.charAt(2)+e.charAt(2)):(n.r=e.substring(0,2),n.g=e.substring(2,4),n.b=e.substring(4));for(t in n)i=n[t],n[t]=parseInt(i,16);return n},timeRegex:/^(0?[1-9]|1[0-2]):([0-5][0-9])[\s]([AP]M)$/,_urlRegex:/(?:(http[s]?):\/\/)?(?:(www|[\d\w\-]+)\.)?([\d\w\-]+)\.([A-Za-z]{2,6})(:[\d]*)?([:\/?#\[\]@!$&'()*+,;=\w\d-._~%\\]*)?/i,_emailRegex:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,validateUrl:function(e){var t;return t=this._urlRegex.exec(e),null!=t&&(t={url:t[0],protocol:t[1]||"http",subdomain:t[2],name:t[3],domain:t[4],port:t[5],path:t[6]||"/"},t.url=t.url),t},validateEmail:function(e){return this._emailRegex.test(e)},getQueryString:function(e,t){var n,i,r;return null==t&&(t=""),t=t.replace(/[[]/,"[").replace(/[]]/,"]"),i="[?&]"+t+"=([^&#]*)",n=new RegExp(i),r=n.exec(e),null!=r?r[1]:""},parseUrlPath:function(e){var t,n,i,r,a,s,o,l,c,u,d;if(s=e.split("?"),n=s[0].split("/"),t=n.slice(0,n.length-1).join("/"),l=n[n.length-1],i={},s.length>1)for(a=s[s.length-1],d=a.split("&"),c=0,u=d.length;u>c;c++)r=d[c],o=r.split("="),i[o[0]]=null!=o[1]?o[1]:"";return{fullPath:e,path:t,pathComponents:n,verb:l,queries:i}},extendAttributes:function(e,t,n){var i,r,a,s,o,l,c;null==e&&(e=""),s={};for(r in t)w.call(t,r)&&(o=t[r],i=e?this.capitalize(r):r,a=""+e+i,s[r]=null!=n[a]?n[a]||!0:o,"true"===(l=s[r])||"false"===l?s[r]="true"===s[r]:(null!=(c=s[r])?c.length:void 0)>0&&!isNaN(+s[r])&&(s[r]=+s[r]));return s}}}])}(window,window.angular);